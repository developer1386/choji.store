import{r as Fc,a as $d,g as jd}from"./vendor-D3F3s8fL.js";function Bd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Rs={exports:{}},On={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ji;function Hd(){if(ji)return On;ji=1;var e=Fc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(c,a,u){var d,l={},f=null,p=null;u!==void 0&&(f=""+u),a.key!==void 0&&(f=""+a.key),a.ref!==void 0&&(p=a.ref);for(d in a)r.call(a,d)&&!o.hasOwnProperty(d)&&(l[d]=a[d]);if(c&&c.defaultProps)for(d in a=c.defaultProps,a)l[d]===void 0&&(l[d]=a[d]);return{$$typeof:t,type:c,key:f,ref:p,props:l,_owner:s.current}}return On.Fragment=n,On.jsx=i,On.jsxs=i,On}var Bi;function Ud(){return Bi||(Bi=1,Rs.exports=Hd()),Rs.exports}var _=Ud(),De=Fc(),hr={},Hi;function Wd(){if(Hi)return hr;Hi=1;var e=$d();return hr.createRoot=e.createRoot,hr.hydrateRoot=e.hydrateRoot,hr}var zd=Wd();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ot=(e,t)=>{const n=De.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:a,...u},d)=>De.createElement("svg",{ref:d,...qd,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:["lucide",`lucide-${Gd(e)}`,c].join(" "),...u},[...t.map(([l,f])=>De.createElement(l,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Ot("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Ot("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=Ot("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Ot("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Ot("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Ot("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);function Qd(){const[e,t]=De.useState("250g"),[n,r]=De.useState(!1),s=()=>{document.getElementById("order-form")?.scrollIntoView({behavior:"smooth"})},o=async i=>{i.preventDefault(),r(!0);const c="923152967579",a=`Hi, I'd like to order ${e} of Choji's homemade cat food.`,u=`https://wa.me/${c}?text=${encodeURIComponent(a)}`;try{window.open(u,"_blank")}catch{alert("Failed to open WhatsApp. Please try again.")}finally{r(!1)}};return _.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-green-50",children:[_.jsx("nav",{className:"fixed top-0 w-full bg-white/90 backdrop-blur-md shadow-sm z-50",role:"navigation","aria-label":"Main navigation",children:_.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[_.jsx("div",{className:"flex items-center space-x-2",children:_.jsxs("a",{href:"/",className:"flex items-center space-x-2","aria-label":"Go to homepage",children:[_.jsx("img",{src:"/logo/logo.svg",alt:"Choji Store Logo",className:"h-12 w-auto",width:"750",height:"800",loading:"eager",fetchpriority:"high"}),_.jsx("span",{className:"text-2xl font-bold text-gray-800",children:"choji.store"})]})}),_.jsx("button",{onClick:s,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-full font-semibold transition-colors","aria-label":"Order now via WhatsApp",children:"Order Now"})]})}),_.jsx("section",{className:"pt-24 pb-16 px-4",role:"banner",children:_.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[_.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-800 mb-6 leading-tight",children:["Natural Premium Homemade",_.jsx("span",{className:"text-orange-500 block",children:"Cat Food Delivery"})]}),_.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Made with love from fresh chicken, wholesome potatoes, and nutritious carrots. Give your feline friend the natural, preservative-free nutrition they deserve."}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[_.jsxs("button",{onClick:s,className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-full font-semibold text-lg transition-all hover:scale-105 flex items-center gap-2",children:["Order Now",_.jsx(Vd,{className:"w-5 h-5"})]}),_.jsxs("div",{className:"flex items-center text-gray-600",children:[_.jsx(Ms,{className:"w-5 h-5 mr-2"}),_.jsx("span",{children:"WhatsApp orders available"})]})]})]})}),_.jsx("section",{className:"py-16 px-4 bg-white","aria-labelledby":"about-heading",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{id:"about-heading",className:"text-4xl font-bold text-gray-800 mb-6",children:"Meet Choji - Our Inspiration"}),_.jsx("div",{className:"w-24 h-1 bg-orange-500 mx-auto mb-8",role:"presentation"})]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[_.jsx("div",{className:"bg-gradient-to-br from-orange-100 to-green-100 rounded-2xl p-4",children:_.jsx("div",{className:"relative w-full pb-[100%]",children:_.jsx("img",{src:"/images/choji.webp",alt:"Choji - The inspiration behind our premium homemade cat food",className:"absolute inset-0 w-full h-full object-cover rounded-xl",loading:"eager",fetchpriority:"high"})})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"Choji was a beloved family cat who inspired us to create the healthiest, most natural cat food possible. After struggling to find quality commercial options that met our high standards, we decided to make our own."}),_.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Every batch is carefully prepared in small quantities using only the finest ingredients: premium chicken, organic potatoes, and fresh carrots. No preservatives, no fillers, no compromises—just pure, wholesome nutrition that cats love and owners trust."})]})]})]})}),_.jsx("section",{className:"py-16 px-4 bg-gradient-to-r from-orange-50 to-green-50",children:_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Why Choose Choji's Food?"}),_.jsx("div",{className:"w-24 h-1 bg-green-500 mx-auto mb-8"})]}),_.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow text-center",children:[_.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(Xd,{className:"w-8 h-8 text-orange-500"})}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Real Chicken"}),_.jsx("p",{className:"text-gray-600",children:"Premium chicken as the main protein source, rich in essential amino acids."})]}),_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow text-center",children:[_.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(Kd,{className:"w-8 h-8 text-green-500"})}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Fresh Veggies"}),_.jsx("p",{className:"text-gray-600",children:"Organic potatoes and carrots provide natural vitamins and fiber for healthy digestion."})]}),_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow text-center",children:[_.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(Zd,{className:"w-8 h-8 text-blue-500"})}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"No Additives"}),_.jsx("p",{className:"text-gray-600",children:"Zero preservatives, artificial colors, or fillers. Just pure, natural ingredients."})]}),_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow text-center",children:[_.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(Yd,{className:"w-8 h-8 text-purple-500"})}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Home Cooked"}),_.jsx("p",{className:"text-gray-600",children:"Every batch is lovingly prepared in small quantities for maximum freshness."})]})]})]})}),_.jsx("section",{className:"py-16 px-4 bg-white",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Available Quantities"}),_.jsx("div",{className:"w-24 h-1 bg-orange-500 mx-auto mb-8"}),_.jsx("p",{className:"text-lg text-gray-600",children:"Choose the perfect size for your feline friend"})]}),_.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[_.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-8 rounded-2xl border-2 border-transparent hover:border-orange-200 transition-all",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"250g"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Perfect for trying out or single cats"}),_.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto",children:_.jsx(Ns,{className:"w-6 h-6 text-white"})})]})}),_.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl border-2 border-green-200 transform scale-105 relative",children:[_.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"}),_.jsxs("div",{className:"text-center",children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"500g"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Great value for regular feeding"}),_.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto",children:_.jsx(Ns,{className:"w-6 h-6 text-white"})})]})]}),_.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl border-2 border-transparent hover:border-blue-200 transition-all",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"1kg"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Best value for big and multiple cats"}),_.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto",children:_.jsx(Ns,{className:"w-6 h-6 text-white"})})]})})]})]})}),_.jsx("section",{id:"order-form",className:"py-16 px-4 bg-gradient-to-br from-orange-50 to-green-50",children:_.jsxs("div",{className:"max-w-2xl mx-auto",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Place Your Order"}),_.jsx("div",{className:"w-24 h-1 bg-orange-500 mx-auto mb-8"}),_.jsx("p",{className:"text-lg text-gray-600",children:"Ready to give your cat the best? Let's get started!"})]}),_.jsxs("form",{onSubmit:o,className:"bg-white p-8 rounded-2xl shadow-lg",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Quantity"}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[_.jsxs("button",{type:"button",onClick:()=>t("250g"),className:`p-4 rounded-xl border-2 font-semibold transition-all ${e==="250g"?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 hover:border-orange-300 hover:bg-orange-25"}`,children:[_.jsx("div",{className:"text-lg font-bold",children:"250g"}),_.jsx("div",{className:"text-sm opacity-75",children:"Trial Size"})]}),_.jsxs("button",{type:"button",onClick:()=>t("500g"),className:`p-4 rounded-xl border-2 font-semibold transition-all ${e==="500g"?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 hover:border-orange-300 hover:bg-orange-25"}`,children:[_.jsx("div",{className:"text-lg font-bold",children:"500g"}),_.jsx("div",{className:"text-sm opacity-75",children:"Regular Size"})]}),_.jsxs("button",{type:"button",onClick:()=>t("1kg"),className:`p-4 rounded-xl border-2 font-semibold transition-all ${e==="1kg"?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 hover:border-orange-300 hover:bg-orange-25"}`,children:[_.jsx("div",{className:"text-lg font-bold",children:"1kg"}),_.jsx("div",{className:"text-sm opacity-75",children:"Family Size"})]})]})]}),_.jsx("button",{type:"submit",disabled:n,className:`w-full bg-gradient-to-r from-orange-500 to-green-500 hover:from-orange-600 hover:to-green-600 text-white py-4 px-8 rounded-xl font-semibold text-lg transition-all ${!n&&"hover:scale-[1.02]"} flex items-center justify-center gap-2 ${n&&"opacity-75 cursor-not-allowed"}`,children:n?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}),_.jsx("span",{children:"Processing..."})]}):_.jsxs(_.Fragment,{children:[_.jsx(Ms,{className:"w-6 h-6"}),"Place Order via WhatsApp"]})}),_.jsx("p",{className:"text-sm text-gray-500 text-center mt-4",children:"We'll contact you via WhatsApp to confirm your order and arrange delivery"})]})]})}),_.jsx("footer",{className:"bg-gray-800 text-white py-12 px-4",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center md:text-left",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 mb-4",children:[_.jsx("img",{src:"/logo/logo-footer.svg",alt:"Choji Store",className:"h-12 w-auto",width:"750",height:"800"}),_.jsx("span",{className:"text-2xl font-bold",children:"choji.store"})]}),_.jsx("p",{className:"text-gray-400",children:"Premium homemade cat food made with love and natural ingredients."})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),_.jsxs("div",{className:"flex items-center justify-center md:justify-start mb-2",children:[_.jsx(Jd,{className:"w-4 h-4 mr-2"}),_.jsx("span",{className:"text-gray-400",children:"Available via WhatsApp"})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Now"}),_.jsxs("button",{onClick:s,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-full font-semibold transition-colors flex items-center gap-2 mx-auto md:mx-0",children:[_.jsx(Ms,{className:"w-4 h-4"}),"WhatsApp Order"]})]})]}),_.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:_.jsx("p",{children:"© 2025 choji.store. Made with ❤️ for cats everywhere."})})]})})]})}const L=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ne=globalThis,Ht="10.5.0";function Xt(){return ds(ne),ne}function ds(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ht,t[Ht]=t[Ht]||{}}function tr(e,t,n=ne){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Ht]=r[Ht]||{};return s[e]||(s[e]=t())}const ef=["debug","info","warn","error","log","assert","trace"],tf="Sentry Logger ",Br={};function Kt(e){if(!("console"in ne))return e();const t=ne.console,n={},r=Object.keys(Br);r.forEach(s=>{const o=Br[s];n[s]=t[s],t[s]=o});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function nf(){Uo().enabled=!0}function rf(){Uo().enabled=!1}function $c(){return Uo().enabled}function sf(...e){Ho("log",...e)}function of(...e){Ho("warn",...e)}function af(...e){Ho("error",...e)}function Ho(e,...t){L&&$c()&&Kt(()=>{ne.console[e](`${tf}[${e}]:`,...t)})}function Uo(){return L?tr("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const I={enable:nf,disable:rf,isEnabled:$c,log:sf,warn:of,error:af},jc=50,Gt="?",Ui=/\(error: (.*)\)/,Wi=/captureMessage|captureException/;function Bc(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],i=n.split(`
`);for(let c=r;c<i.length;c++){let a=i[c];a.length>1024&&(a=a.slice(0,1024));const u=Ui.test(a)?a.replace(Ui,"$1"):a;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){o.push(l);break}}if(o.length>=jc+s)break}}return uf(o.slice(s))}}function cf(e){return Array.isArray(e)?Bc(...e):e}function uf(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(mr(t).function||"")&&t.pop(),t.reverse(),Wi.test(mr(t).function||"")&&(t.pop(),Wi.test(mr(t).function||"")&&t.pop()),t.slice(0,jc).map(n=>({...n,filename:n.filename||mr(t).filename,function:n.function||Gt}))}function mr(e){return e[e.length-1]||{}}const As="<anonymous>";function mt(e){try{return!e||typeof e!="function"?As:e.name||As}catch{return As}}function zi(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Rr={},qi={};function Lt(e,t){Rr[e]=Rr[e]||[],Rr[e].push(t)}function Dt(e,t){if(!qi[e]){qi[e]=!0;try{t()}catch(n){L&&I.error(`Error while instrumenting ${e}`,n)}}}function qe(e,t){const n=e&&Rr[e];if(n)for(const r of n)try{r(t)}catch(s){L&&I.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${mt(r)}
Error:`,s)}}let Os=null;function Hc(e){const t="error";Lt(t,e),Dt(t,lf)}function lf(){Os=ne.onerror,ne.onerror=function(e,t,n,r,s){return qe("error",{column:r,error:s,line:n,msg:e,url:t}),Os?Os.apply(this,arguments):!1},ne.onerror.__SENTRY_INSTRUMENTED__=!0}let Ls=null;function Uc(e){const t="unhandledrejection";Lt(t,e),Dt(t,df)}function df(){Ls=ne.onunhandledrejection,ne.onunhandledrejection=function(e){return qe("unhandledrejection",e),Ls?Ls.apply(this,arguments):!0},ne.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Wc=Object.prototype.toString;function fs(e){switch(Wc.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return gt(e,Error)}}function En(e,t){return Wc.call(e)===`[object ${t}]`}function zc(e){return En(e,"ErrorEvent")}function Gi(e){return En(e,"DOMError")}function ff(e){return En(e,"DOMException")}function ft(e){return En(e,"String")}function Wo(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function qn(e){return e===null||Wo(e)||typeof e!="object"&&typeof e!="function"}function Gn(e){return En(e,"Object")}function ps(e){return typeof Event<"u"&&gt(e,Event)}function pf(e){return typeof Element<"u"&&gt(e,Element)}function hf(e){return En(e,"RegExp")}function nr(e){return!!(e?.then&&typeof e.then=="function")}function mf(e){return Gn(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function gt(e,t){try{return e instanceof t}catch{return!1}}function qc(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Gc(e){return typeof Request<"u"&&gt(e,Request)}const zo=ne,gf=80;function Ge(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const c=" > ",a=c.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||gf;for(;n&&o++<r&&(u=_f(n,d),!(u==="html"||o>1&&i+s.length*a+u.length>=l));)s.push(u),i+=u.length,n=n.parentNode;return s.reverse().join(c)}catch{return"<unknown>"}}function _f(e,t){const n=e,r=[];if(!n?.tagName)return"";if(zo.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t?.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(s?.length)s.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&ft(i)){const c=i.split(/\s+/);for(const a of c)r.push(`.${a}`)}}const o=["aria-label","type","name","title","alt"];for(const i of o){const c=n.getAttribute(i);c&&r.push(`[${i}="${c}"]`)}return r.join("")}function wn(){try{return zo.document.location.href}catch{return""}}function Vc(e){if(!zo.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Hr(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Vi(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{qc(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Nr(e,t,n=!1){return ft(e)?hf(t)?t.test(e):ft(t)?n?e===t:e.includes(t):!1:!1}function pt(e,t=[],n=!1){return t.some(r=>Nr(e,r,n))}function Le(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&Yc(s,r);try{e[t]=s}catch{L&&I.log(`Failed to replace method "${t}" in object`,e)}}function He(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{L&&I.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Yc(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,He(e,"__sentry_original__",t)}catch{}}function qo(e){return e.__sentry_original__}function Xc(e){if(fs(e))return{message:e.message,name:e.name,stack:e.stack,...Xi(e)};if(ps(e)){const t={type:e.type,target:Yi(e.target),currentTarget:Yi(e.currentTarget),...Xi(e)};return typeof CustomEvent<"u"&&gt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Yi(e){try{return pf(e)?Ge(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Xi(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function yf(e,t=40){const n=Object.keys(Xc(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Hr(r,t);for(let s=n.length;s>0;s--){const o=n.slice(0,s).join(", ");if(!(o.length>t))return s===n.length?o:Hr(o,t)}return""}function Sf(){const e=ne;return e.crypto||e.msCrypto}function Be(e=Sf()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Kc(e){return e.exception?.values?.[0]}function $t(e){const{message:t,event_id:n}=e;if(t)return t;const r=Kc(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function co(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function pn(e,t){const n=Kc(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const o={...s?.data,...t.data};n.mechanism.data=o}}function Ki(e){if(bf(e))return!0;try{He(e,"__sentry_captured__",!0)}catch{}return!1}function bf(e){try{return e.__sentry_captured__}catch{}}const Jc=1e3;function Jt(){return Date.now()/Jc}function vf(){const{performance:e}=ne;if(!e?.now||!e.timeOrigin)return Jt;const t=e.timeOrigin;return()=>(t+e.now())/Jc}let Ji;function Te(){return(Ji??(Ji=vf()))()}let Ds;function Ef(){const{performance:e}=ne;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=e.timing?.navigationStart,a=typeof i=="number"?Math.abs(i+n-r):t,u=a<t;return o||u?s<=a?[e.timeOrigin,"timeOrigin"]:[i,"navigationStart"]:[r,"dateNow"]}function Fe(){return Ds||(Ds=Ef()),Ds[0]}function wf(e){const t=Te(),n={sid:Be(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>If(n)};return e&&hn(n,e),n}function hn(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Te(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Be()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Tf(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),hn(e,n)}function If(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function rr(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=rr(r[s],t[s],n-1));return r}function kt(){return Be()}function sr(){return Be().substring(16)}const uo="_sentrySpan";function mn(e,t){t?He(e,uo,t):delete e[uo]}function Ur(e){return e[uo]}const xf=100;class at{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:kt(),sampleRand:Math.random()}}clone(){const t=new at;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,mn(t,Ur(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&hn(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof at?n.getScopeData():Gn(n)?t:void 0,{tags:s,extra:o,user:i,contexts:c,level:a,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},i&&Object.keys(i).length&&(this._user=i),a&&(this._level=a),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,mn(this,void 0),this._attachments=[],this.setPropagationContext({traceId:kt(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:xf;if(r<=0)return this;const s={timestamp:Jt(),...t,message:t.message?Hr(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Ur(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=rr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||Be();if(!this._client)return L&&I.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r?.event_id||Be();if(!this._client)return L&&I.warn("No client configured on scope - will not capture message!"),s;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this),s}captureEvent(t,n){const r=n?.event_id||Be();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(L&&I.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function kf(){return tr("defaultCurrentScope",()=>new at)}function Cf(){return tr("defaultIsolationScope",()=>new at)}class Rf{constructor(t,n){let r;t?r=t:r=new at;let s;n?s=n:s=new at,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return nr(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function gn(){const e=Xt(),t=ds(e);return t.stack=t.stack||new Rf(kf(),Cf())}function Nf(e){return gn().withScope(e)}function Mf(e,t){const n=gn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Zi(e){return gn().withScope(()=>e(gn().getIsolationScope()))}function Af(){return{withIsolationScope:Zi,withScope:Nf,withSetScope:Mf,withSetIsolationScope:(e,t)=>Zi(t),getCurrentScope:()=>gn().getScope(),getIsolationScope:()=>gn().getIsolationScope()}}function Tn(e){const t=ds(e);return t.acs?t.acs:Af()}function se(){const e=Xt();return Tn(e).getCurrentScope()}function et(){const e=Xt();return Tn(e).getIsolationScope()}function Of(){return tr("globalScope",()=>new at)}function In(...e){const t=Xt(),n=Tn(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function Y(){return se().getClient()}function Lf(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,o={trace_id:n,span_id:s||sr()};return r&&(o.parent_span_id=r),o}const Qe="sentry.source",Go="sentry.sample_rate",Zc="sentry.previous_trace_sample_rate",_t="sentry.op",Se="sentry.origin",Wr="sentry.idle_span_finish_reason",or="sentry.measurement_unit",ir="sentry.measurement_value",Qi="sentry.custom_span_name",Vo="sentry.profile_id",xn="sentry.exclusive_time",Df="sentry.link.type",Pf=0,Qc=1,ye=2;function Ff(e){if(e<400&&e>=100)return{code:Qc};if(e>=400&&e<500)switch(e){case 401:return{code:ye,message:"unauthenticated"};case 403:return{code:ye,message:"permission_denied"};case 404:return{code:ye,message:"not_found"};case 409:return{code:ye,message:"already_exists"};case 413:return{code:ye,message:"failed_precondition"};case 429:return{code:ye,message:"resource_exhausted"};case 499:return{code:ye,message:"cancelled"};default:return{code:ye,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:ye,message:"unimplemented"};case 503:return{code:ye,message:"unavailable"};case 504:return{code:ye,message:"deadline_exceeded"};default:return{code:ye,message:"internal_error"}}return{code:ye,message:"unknown_error"}}function eu(e,t){e.setAttribute("http.response.status_code",t);const n=Ff(t);n.message!=="unknown_error"&&e.setStatus(n)}const tu="_sentryScope",nu="_sentryIsolationScope";function $f(e,t,n){e&&(He(e,nu,n),He(e,tu,t))}function zr(e){return{scope:e[tu],isolationScope:e[nu]}}const Yo="sentry-",jf=/^sentry-/,Bf=8192;function ru(e){const t=Uf(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,o])=>{if(s.match(jf)){const i=s.slice(Yo.length);r[i]=o}return r},{});if(Object.keys(n).length>0)return n}function Hf(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${Yo}${r}`]=s),n),{});return Wf(t)}function Uf(e){if(!(!e||!ft(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=ea(n);return Object.entries(r).forEach(([s,o])=>{t[s]=o}),t},{}):ea(e)}function ea(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Wf(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=s===0?o:`${t},${o}`;return i.length>Bf?(L&&I.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}const zf=/^o(\d+)\./,qf=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Gf(e){return e==="http"||e==="https"}function kn(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:c,publicKey:a}=e;return`${c}://${a}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${i}`}function Vf(e){const t=qf.exec(e);if(!t){Kt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",i="",c=""]=t.slice(1);let a="",u=c;const d=u.split("/");if(d.length>1&&(a=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return su({host:o,pass:s,path:a,projectId:u,port:i,protocol:n,publicKey:r})}function su(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Yf(e){if(!L)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(I.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Gf(r)?t&&isNaN(parseInt(t,10))?(I.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(I.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(I.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Xf(e){return e.match(zf)?.[1]}function Kf(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Xf(n)),r}function ou(e){const t=typeof e=="string"?Vf(e):su(e);if(!(!t||!Yf(t)))return t}function Vt(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const iu=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Jf(e){if(!e)return;const t=e.match(iu);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Zf(e,t){const n=Jf(e),r=ru(t);if(!n?.traceId)return{traceId:kt(),sampleRand:Math.random()};const s=Qf(n,r);r&&(r.sample_rand=s.toString());const{traceId:o,parentSpanId:i,parentSampled:c}=n;return{traceId:o,parentSpanId:i,sampled:c,dsc:r||{},sampleRand:s}}function au(e=kt(),t=sr(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Qf(e,t){const n=Vt(t?.sample_rand);if(n!==void 0)return n;const r=Vt(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const cu=0,Xo=1;let ta=!1;function ep(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,origin:c,links:a}=te(e);return{parent_span_id:o,span_id:t,trace_id:n,data:r,op:s,status:i,origin:c,links:a}}function tp(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:te(e).parent_span_id,o=zr(e).scope,i=r?o?.getPropagationContext().propagationSpanId||sr():t;return{parent_span_id:s,span_id:i,trace_id:n}}function np(e){const{traceId:t,spanId:n}=e.spanContext(),r=Zt(e);return au(t,n,r)}function uu(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:o})=>({span_id:t,trace_id:n,sampled:r===Xo,attributes:o,...s}))}function Ut(e){return typeof e=="number"?na(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?na(e.getTime()):Te()}function na(e){return e>9999999999?e/1e3:e}function te(e){if(sp(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(rp(e)){const{attributes:r,startTime:s,name:o,endTime:i,status:c,links:a}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:o,parent_span_id:u,start_timestamp:Ut(s),timestamp:Ut(i)||void 0,status:lu(c),op:r[_t],origin:r[Se],links:uu(a)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function rp(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function sp(e){return typeof e.getSpanJSON=="function"}function Zt(e){const{traceFlags:t}=e.spanContext();return t===Xo}function lu(e){if(!(!e||e.code===Pf))return e.code===Qc?"ok":e.message||"unknown_error"}const Wt="_sentryChildSpans",lo="_sentryRootSpan";function du(e,t){const n=e[lo]||e;He(t,lo,n),e[Wt]?e[Wt].add(t):He(e,Wt,new Set([t]))}function op(e,t){e[Wt]&&e[Wt].delete(t)}function Mr(e){const t=new Set;function n(r){if(!t.has(r)&&Zt(r)){t.add(r);const s=r[Wt]?Array.from(r[Wt]):[];for(const o of s)n(o)}}return n(e),Array.from(t)}function xe(e){return e[lo]||e}function Me(){const e=Xt(),t=Tn(e);return t.getActiveSpan?t.getActiveSpan():Ur(se())}function fo(){ta||(Kt(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),ta=!0)}let ra=!1;function ip(){if(ra)return;function e(){const t=Me(),n=t&&xe(t);if(n){const r="internal_error";L&&I.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:ye,message:r})}}e.tag="sentry_tracingErrorCallback",ra=!0,Hc(e),Uc(e)}function Ct(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||Y()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const Ko="production",fu="_frozenDsc";function Ar(e,t){He(e,fu,t)}function pu(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||Ko,release:n.release,public_key:r,trace_id:e,org_id:Kf(t)};return t.emit("createDsc",s),s}function hu(e,t){const n=t.getPropagationContext();return n.dsc||pu(n.traceId,e)}function yt(e){const t=Y();if(!t)return{};const n=xe(e),r=te(n),s=r.data,o=n.spanContext().traceState,i=o?.get("sentry.sample_rate")??s[Go]??s[Zc];function c(h){return(typeof i=="number"||typeof i=="string")&&(h.sample_rate=`${i}`),h}const a=n[fu];if(a)return c(a);const u=o?.get("sentry.dsc"),d=u&&ru(u);if(d)return c(d);const l=pu(e.spanContext().traceId,t),f=s[Qe],p=r.description;return f!=="url"&&p&&(l.transaction=p),Ct()&&(l.sampled=String(Zt(n)),l.sample_rand=o?.get("sentry.sample_rand")??zr(n).scope?.getPropagationContext().sampleRand.toString()),c(l),t.emit("createDsc",l,n),l}class Rt{constructor(t={}){this._traceId=t.traceId||kt(),this._spanId=t.spanId||sr()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:cu}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Xe(e,t=100,n=1/0){try{return po("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function mu(e,t=3,n=100*1024){const r=Xe(e,t);return lp(r)>n?mu(e,t-1,n):r}function po(e,t,n=1/0,r=1/0,s=dp()){const[o,i]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const c=ap(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const a=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(a===0)return c.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return po("",p,a-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=Xc(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}const h=f[p];d[p]=po(p,h,a-1,r,s),l++}return i(t),d}function ap(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(qc(t))return"[VueViewModel]";if(mf(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${mt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=cp(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function cp(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function up(e){return~-encodeURI(e).split(/%..|./).length}function lp(e){return up(JSON.stringify(e))}function dp(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Qt(e,t=[]){return[e,t]}function fp(e,t){const[n,r]=e;return[n,[...r,t]]}function sa(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function ho(e){const t=ds(ne);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function pp(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[ho(r),o]:r.push(typeof o=="string"?ho(o):o)}for(const o of n){const[i,c]=o;if(s(`
${JSON.stringify(i)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let a;try{a=JSON.stringify(c)}catch{a=JSON.stringify(Xe(c))}s(a)}}return typeof r=="string"?r:hp(r)}function hp(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function mp(e){return[{type:"span"},e]}function gp(e){const t=typeof e.data=="string"?ho(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const _p={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function oa(e){return _p[e]}function Jo(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function gu(e,t,n,r){const s=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:kn(r)},...s&&{trace:s}}}function mo(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(Sp(n)){if(Nr(e.description,n))return!0;continue}if(!n.name&&!n.op)continue;const r=n.name?Nr(e.description,n.name):!0,s=n.op?e.op&&Nr(e.op,n.op):!0;if(r&&s)return!0}return!1}function yp(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function Sp(e){return typeof e=="string"||e instanceof RegExp}function bp(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function vp(e,t,n,r){const s=Jo(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:kn(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Qt(o,[i])}function Ep(e,t,n,r){const s=Jo(n),o=e.type&&e.type!=="replay_event"?e.type:"event";bp(e,n?.sdk);const i=gu(e,s,r,t);return delete e.sdkProcessingMetadata,Qt(i,[[{type:o},e]])}function wp(e,t){function n(p){return!!p.trace_id&&!!p.public_key}const r=yt(e[0]),s=t?.getDsn(),o=t?.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:kn(s)}},{beforeSendSpan:c,ignoreSpans:a}=t?.getOptions()||{},u=a?.length?e.filter(p=>!mo(te(p),a)):e,d=e.length-u.length;d&&t?.recordDroppedEvent("before_send","span",d);const l=c?p=>{const h=te(p),m=c(h);return m||(fo(),h)}:te,f=[];for(const p of u){const h=l(p);h&&f.push(mp(h))}return Qt(i,f)}function Tp(e){if(!L)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=te(e),{spanId:s}=e.spanContext(),o=Zt(e),i=xe(e),c=i===e,a=`[Tracing] Starting ${o?"sampled":"unsampled"} ${c?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!c){const{op:d,description:l}=te(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}I.log(`${a}
  ${u.join(`
  `)}`)}function Ip(e){if(!L)return;const{description:t="< unknown name >",op:n="< unknown op >"}=te(e),{spanId:r}=e.spanContext(),o=xe(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;I.log(i)}function xp(e,t,n,r=Me()){const s=r&&xe(r);s&&(L&&I.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[ir]:t,[or]:n}))}function ia(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[or],o=r[ir];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const aa=1e3;class hs{constructor(t={}){this._traceId=t.traceId||kt(),this._spanId=t.spanId||sr(),this._startTime=t.startTimestamp||Te(),this._links=t.links,this._attributes={},this.setAttributes({[Se]:"manual",[_t]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Xo:cu}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Ut(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Qe,"custom"),this}end(t){this._endTime||(this._endTime=Ut(t),Ip(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[_t],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:lu(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Se],profile_id:this._attributes[Vo],exclusive_time:this._attributes[xn],measurements:ia(this._events),is_segment:this._isStandaloneSpan&&xe(this)===this||void 0,segment_id:this._isStandaloneSpan?xe(this).spanContext().spanId:void 0,links:uu(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){L&&I.log("[Tracing] Adding an event to span:",t);const s=ca(n)?n:r||Te(),o=ca(n)?{}:n||{},i={name:t,time:Ut(s),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Y();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===xe(this)))return;if(this._isStandaloneSpan){this._sampled?Cp(wp([this],t)):(L&&I.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(zr(this).scope||se()).captureEvent(r)}_convertSpanToTransaction(){if(!ua(te(this)))return;this._name||(L&&I.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=zr(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const o=Mr(this).filter(d=>d!==this&&!kp(d)).map(d=>te(d)).filter(ua),i=this._attributes[Qe];delete this._attributes[Qi],o.forEach(d=>{delete d.data[Qi]});const c={contexts:{trace:ep(this)},spans:o.length>aa?o.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,aa):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:yt(this)},request:r,...i&&{transaction_info:{source:i}}},a=ia(this._events);return a&&Object.keys(a).length&&(L&&I.log("[Measurements] Adding measurements to transaction event",JSON.stringify(a,void 0,2)),c.measurements=a),c}}function ca(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function ua(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function kp(e){return e instanceof hs&&e.isStandaloneSpan()}function Cp(e){const t=Y();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function Rp(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return Np(r,t,n)}function Np(e,t,n){return nr(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Mp(e,t,n){if(!Ct(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:c=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):c}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const o=Vt(s);if(o===void 0)return L&&I.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!o)return L&&I.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const i=n<o;return i||L&&I.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[i,o,r]}const _u="__SENTRY_SUPPRESS_TRACING__";function Ap(e,t){const n=Qo();if(n.startSpan)return n.startSpan(e,t);const r=Su(e),{forceTransaction:s,parentSpan:o,scope:i}=e,c=i?.clone();return In(c,()=>Lp(o)(()=>{const u=se(),d=bu(u,o),f=e.onlyIfParent&&!d?new Rt:yu({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return mn(u,f),Rp(()=>t(f),()=>{const{status:p}=te(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:ye,message:"internal_error"})},()=>{f.end()})}))}function Cn(e){const t=Qo();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Su(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>In(e.scope,i):s!==void 0?i=>Zo(s,i):i=>i())(()=>{const i=se(),c=bu(i,s);return e.onlyIfParent&&!c?new Rt:yu({parentSpan:c,spanArguments:n,forceTransaction:r,scope:i})})}function Zo(e,t){const n=Qo();return n.withActiveSpan?n.withActiveSpan(e,t):In(r=>(mn(r,e||void 0),t(r)))}function yu({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ct()){const i=new Rt;if(n||!e){const c={sampled:"false",sample_rate:"0",transaction:t.name,...yt(i)};Ar(i,c)}return i}const s=et();let o;if(e&&!n)o=Op(e,r,t),du(e,o);else if(e){const i=yt(e),{traceId:c,spanId:a}=e.spanContext(),u=Zt(e);o=la({traceId:c,parentSpanId:a,...t},r,u),Ar(o,i)}else{const{traceId:i,dsc:c,parentSpanId:a,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};o=la({traceId:i,parentSpanId:a,...t},r,u),c&&Ar(o,c)}return Tp(o),$f(o,r,s),o}function Su(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Ut(e.startTime),delete r.startTime,r}return n}function Qo(){const e=Xt();return Tn(e)}function la(e,t,n){const r=Y(),s=r?.getOptions()||{},{name:o=""}=e,i={spanAttributes:{...e.attributes},spanName:o,parentSampled:n};r?.emit("beforeSampling",i,{decision:!1});const c=i.parentSampled??n,a=i.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[_u]?[!1]:Mp(s,{name:o,parentSampled:c,attributes:a,parentSampleRate:Vt(u.dsc?.sample_rate)},u.sampleRand),p=new hs({...e,attributes:{[Qe]:"custom",[Go]:l!==void 0&&f?l:void 0,...a},sampled:d});return!d&&r&&(L&&I.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function Op(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[_u]?!1:Zt(e),i=o?new hs({...n,parentSpanId:r,traceId:s,sampled:o}):new Rt({traceId:s});du(e,i);const c=Y();return c&&(c.emit("spanStart",i),n.endTimestamp&&c.emit("spanEnd",i)),i}function bu(e,t){if(t)return t;if(t===null)return;const n=Ur(e);if(!n)return;const r=Y();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?xe(n):n}function Lp(e){return e!==void 0?t=>Zo(e,t):t=>t()}const Or={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Dp="heartbeatFailed",Pp="idleTimeout",Fp="finalTimeout",$p="externalFinish";function vu(e,t={}){const n=new Map;let r=!1,s,o=$p,i=!t.disableAutoFinish;const c=[],{idleTimeout:a=Or.idleTimeout,finalTimeout:u=Or.finalTimeout,childSpanTimeout:d=Or.childSpanTimeout,beforeSpanEnd:l}=t,f=Y();if(!f||!Ct()){const S=new Rt,x={sample_rate:"0",sampled:"false",...yt(S)};return Ar(S,x),S}const p=se(),h=Me(),m=jp(e);m.end=new Proxy(m.end,{apply(S,x,M){if(l&&l(m),x instanceof Rt)return;const[k,...A]=M,$=k||Te(),F=Ut($),q=Mr(m).filter(P=>P!==m);if(!q.length)return g(F),Reflect.apply(S,x,[F,...A]);const W=q.map(P=>te(P).timestamp).filter(P=>!!P),D=W.length?Math.max(...W):void 0,N=te(m).start_timestamp,O=Math.min(N?N+u/1e3:1/0,Math.max(N||-1/0,Math.min(F,D||1/0)));return g(O),Reflect.apply(S,x,[O,...A])}});function y(){s&&(clearTimeout(s),s=void 0)}function v(S){y(),s=setTimeout(()=>{!r&&n.size===0&&i&&(o=Pp,m.end(S))},a)}function w(S){s=setTimeout(()=>{!r&&i&&(o=Dp,m.end(S))},d)}function E(S){y(),n.set(S,!0);const x=Te();w(x+d/1e3)}function T(S){if(n.has(S)&&n.delete(S),n.size===0){const x=Te();v(x+a/1e3)}}function g(S){r=!0,n.clear(),c.forEach(F=>F()),mn(p,h);const x=te(m),{start_timestamp:M}=x;if(!M)return;x.data[Wr]||m.setAttribute(Wr,o),I.log(`[Tracing] Idle span "${x.op}" finished`);const A=Mr(m).filter(F=>F!==m);let $=0;A.forEach(F=>{F.isRecording()&&(F.setStatus({code:ye,message:"cancelled"}),F.end(S),L&&I.log("[Tracing] Cancelling span since span ended early",JSON.stringify(F,void 0,2)));const q=te(F),{timestamp:W=0,start_timestamp:D=0}=q,N=D<=S,O=(u+a)/1e3,P=W-D<=O;if(L){const G=JSON.stringify(F,void 0,2);N?P||I.log("[Tracing] Discarding span since it finished after idle span final timeout",G):I.log("[Tracing] Discarding span since it happened after idle span was finished",G)}(!P||!N)&&(op(m,F),$++)}),$>0&&m.setAttribute("sentry.idle_span_discarded_spans",$)}return c.push(f.on("spanStart",S=>{if(r||S===m||te(S).timestamp||S instanceof hs&&S.isStandaloneSpan())return;Mr(m).includes(S)&&E(S.spanContext().spanId)})),c.push(f.on("spanEnd",S=>{r||T(S.spanContext().spanId)})),c.push(f.on("idleSpanEnableAutoFinish",S=>{S===m&&(i=!0,v(),n.size&&w())})),t.disableAutoFinish||v(),setTimeout(()=>{r||(m.setStatus({code:ye,message:"deadline_exceeded"}),o=Fp,m.end())},u),m}function jp(e){const t=Cn(e);return mn(se(),t),L&&I.log("[Tracing] Started span is an idle span"),t}const Ps=0,da=1,fa=2;function St(e){return new Nt(t=>{t(e)})}function qr(e){return new Nt((t,n)=>{n(e)})}class Nt{constructor(t){this._state=Ps,this._handlers=[],this._runExecutor(t)}then(t,n){return new Nt((r,s)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(i){s(i)}},o=>{if(!n)s(o);else try{r(n(o))}catch(i){s(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Nt((n,r)=>{let s,o;return this.then(i=>{o=!1,s=i,t&&t()},i=>{o=!0,s=i,t&&t()}).then(()=>{if(o){r(s);return}n(s)})})}_executeHandlers(){if(this._state===Ps)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===da&&n[1](this._value),this._state===fa&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(o,i)=>{if(this._state===Ps){if(nr(i)){i.then(r,s);return}this._state=o,this._value=i,this._executeHandlers()}},r=o=>{n(da,o)},s=o=>{n(fa,o)};try{t(r,s)}catch(o){s(o)}}}function go(e,t,n,r=0){return new Nt((s,o)=>{const i=e[r];if(t===null||typeof i!="function")s(t);else{const c=i({...t},n);L&&i.id&&c===null&&I.log(`Event processor "${i.id}" dropped event`),nr(c)?c.then(a=>go(e,a,n,r+1).then(s)).then(null,o):go(e,c,n,r+1).then(s).then(null,o)}})}function Bp(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;Hp(e,t),r&&zp(e,r),qp(e,n),Up(e,s),Wp(e,o)}function pa(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:c,breadcrumbs:a,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:h}=t;gr(e,"extra",n),gr(e,"tags",r),gr(e,"user",s),gr(e,"contexts",o),e.sdkProcessingMetadata=rr(e.sdkProcessingMetadata,c,2),i&&(e.level=i),p&&(e.transactionName=p),h&&(e.span=h),a.length&&(e.breadcrumbs=[...e.breadcrumbs,...a]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function gr(e,t,n){e[t]=rr(e[t],n,1)}function Hp(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:c}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),i&&(e.level=i),c&&e.type!=="transaction"&&(e.transaction=c)}function Up(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Wp(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function zp(e,t){e.contexts={trace:tp(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:yt(t),...e.sdkProcessingMetadata};const n=xe(t),r=te(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function qp(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let _r,ha,yr;function Gp(e){const t=ne._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return yr&&n.length===ha||(ha=n.length,yr=n.reduce((r,s)=>{_r||(_r={});const o=_r[s];if(o)r[o[0]]=o[1];else{const i=e(s);for(let c=i.length-1;c>=0;c--){const u=i[c]?.filename,d=t[s];if(u&&d){r[u]=d,_r[s]=[u,d];break}}}return r},{})),yr}function Eu(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:c=1e3}=e,a={...t,event_id:t.event_id||n.event_id||Be(),timestamp:t.timestamp||Jt()},u=n.integrations||e.integrations.map(y=>y.name);Vp(a,e),Kp(a,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Yp(a,e.stackParser);const d=Zp(r,n.captureContext);n.mechanism&&pn(a,n.mechanism);const l=s?s.getEventProcessors():[],f=Of().getScopeData();if(o){const y=o.getScopeData();pa(f,y)}if(d){const y=d.getScopeData();pa(f,y)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),Bp(a,f);const h=[...l,...f.eventProcessors];return go(h,a,n).then(y=>(y&&Xp(y),typeof i=="number"&&i>0?Jp(y,i,c):y))}function Vp(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;e.environment=e.environment||n||Ko,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const i=e.request;i?.url&&(i.url=Hr(i.url,o))}function Yp(e,t){const n=Gp(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.filename&&(s.debug_id=n[s.filename])})})}function Xp(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function Kp(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Jp(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:Xe(s.data,t,n)}}))},...e.user&&{user:Xe(e.user,t,n)},...e.contexts&&{contexts:Xe(e.contexts,t,n)},...e.extra&&{extra:Xe(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Xe(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:Xe(s.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Xe(e.contexts.flags,3,n)),r}function Zp(e,t){if(!t)return e;const n=e?e.clone():new at;return n.update(t),n}function Qp(e){if(e)return eh(e)?{captureContext:e}:nh(e)?{captureContext:e}:e}function eh(e){return e instanceof at||typeof e=="function"}const th=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function nh(e){return Object.keys(e).some(t=>th.includes(t))}function ei(e,t){return se().captureException(e,Qp(t))}function wu(e,t){return se().captureEvent(e,t)}function Tu(e,t){et().setContext(e,t)}function rh(){return et().lastEventId()}function sh(){const e=Y();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function oh(e){et().addEventProcessor(e)}function ma(e){const t=et(),n=se(),{userAgent:r}=ne.navigator||{},s=wf({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return o?.status==="ok"&&hn(o,{status:"exited"}),Iu(),t.setSession(s),s}function Iu(){const e=et(),n=se().getSession()||e.getSession();n&&Tf(n),xu(),e.setSession()}function xu(){const e=et(),t=Y(),n=e.getSession();n&&t&&t.captureSession(n)}function ga(e=!1){if(e){Iu();return}xu()}const ih="7";function ku(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function ah(e){return`${ku(e)}${e.projectId}/envelope/`}function ch(e,t){const n={sentry_version:ih};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function uh(e,t,n){return t||`${ah(e)}?${ch(e,n)}`}function lh(e,t){const n=ou(e);if(!n)return"";const r=`${ku(n)}embed/error-page/`;let s=`dsn=${kn(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const _a=[];function dh(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function fh(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return dh(r)}function ph(e,t){const n={};return t.forEach(r=>{r&&Cu(e,r,n)}),n}function ya(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Cu(e,t,n){if(n[t.name]){L&&I.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,_a.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),_a.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,i)=>r(o,i,e),{id:t.name});e.addEventProcessor(s)}L&&I.log(`Integration installed: ${t.name}`)}function hh(e,t,n){const r=[{type:"client_report"},{timestamp:Jt(),discarded_events:e}];return Qt(t?{dsn:t}:{},[r])}function Ru(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function mh(e){const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:o,data:i,op:c}=e.contexts?.trace??{};return{data:i??{},description:e.transaction,op:c,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:i?.[Vo],exclusive_time:i?.[xn],measurements:e.measurements,is_segment:!0}}function gh(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Vo]:e.profile_id},...e.exclusive_time&&{[xn]:e.exclusive_time}}}},measurements:e.measurements}}const Sa="Not capturing exception because it's already been captured.",ba="Discarded session because of missing or non-string release",Nu=Symbol.for("SentryInternalError"),Mu=Symbol.for("SentryDoNotSendEventError");function Lr(e){return{message:e,[Nu]:!0}}function Fs(e){return{message:e,[Mu]:!0}}function va(e){return!!e&&typeof e=="object"&&Nu in e}function Ea(e){return!!e&&typeof e=="object"&&Mu in e}class _h{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=ou(t.dsn):L&&I.warn("No DSN provided, client will not send events."),this._dsn){const n=uh(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const s=Be();if(Ki(t))return L&&I.log(Sa),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:Be(),...r},i=Wo(t)?t:String(t),c=qn(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(c.then(a=>this._captureEvent(a,o,s))),o.event_id}captureEvent(t,n,r){const s=Be();if(n?.originalException&&Ki(n.originalException))return L&&I.log(Sa),s;const o={event_id:s,...n},i=t.sdkProcessingMetadata||{},c=i.capturedSpanScope,a=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,c||r,a)),o.event_id}captureSession(t){this.sendSession(t),hn(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):St(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Cu(this,t,this._integrations),n||ya(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Ep(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=fp(r,gp(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const{release:n,environment:r=Ko}=this._options;if("aggregates"in t){const o=t.attrs||{};if(!o.release&&!n){L&&I.warn(ba);return}o.release=o.release||n,o.environment=o.environment||r,t.attrs=o}else{if(!t.release&&!n){L&&I.warn(ba);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=vp(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;L&&I.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(L&&I.error("Error while sending envelope:",n),n)):(L&&I.error("Transport disabled"),St({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=ph(this,t),ya(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const o=n.exception?.values;if(o){s=!0;for(const a of o)if(a.mechanism?.handled===!1){r=!0;break}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(hn(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Nt(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i?.length&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Eu(o,t,n,r,this,s).then(c=>{if(c===null)return c;this.emit("postprocessEvent",c,n),c.contexts={trace:Lf(r),...c.contexts};const a=hu(this,r);return c.sdkProcessingMetadata={dynamicSamplingContext:a,...c.sdkProcessingMetadata},c})}_captureEvent(t,n={},r=se(),s=et()){return L&&_o(t)&&I.log(`Captured error event \`${Ru(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(o=>o.event_id,o=>{L&&(Ea(o)?I.log(o.message):va(o)?I.warn(o.message):I.warn(o))})}_processEvent(t,n,r,s){const o=this.getOptions(),{sampleRate:i}=o,c=Au(t),a=_o(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof i>"u"?void 0:Vt(i);if(a&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),qr(Fs(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,s).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),Fs("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const m=Sh(this,o,p,n);return yh(m,d)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),c){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw Fs(`${d} returned \`null\`, will not send event.`)}const h=r.getSession()||s.getSession();if(a&&h&&this._updateSessionFromEvent(h,p),c){const y=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,v=p.spans?p.spans.length:0,w=y-v;w>0&&this.recordDroppedEvent("before_send","span",w)}const m=p.transaction_info;if(c&&m&&p.transaction!==t.transaction){const y="custom";p.transaction_info={...m,source:y}}return this.sendEvent(p,n),p}).then(null,p=>{throw Ea(p)||va(p)?p:(this.captureException(p,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:p}),Lr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){L&&I.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){L&&I.log("No outcomes to send");return}if(!this._dsn){L&&I.log("No dsn provided, will not send outcomes");return}L&&I.log("Sending outcomes:",t);const n=hh(t,this._options.tunnel&&kn(this._dsn));this.sendEnvelope(n)}}function yh(e,t){const n=`${t} must return \`null\` or a valid event.`;if(nr(e))return e.then(r=>{if(!Gn(r)&&r!==null)throw Lr(n);return r},r=>{throw Lr(`${t} rejected with ${r}`)});if(!Gn(e)&&e!==null)throw Lr(n);return e}function Sh(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i,ignoreSpans:c}=t;let a=n;if(_o(a)&&s)return s(a,r);if(Au(a)){if(i||c){const u=mh(a);if(c?.length&&mo(u,c))return null;if(i){const d=i(u);d?a=rr(n,gh(d)):fo()}if(a.spans){const d=[],l=a.spans;for(const p of l){if(c?.length&&mo(p,c)){yp(l,p);continue}if(i){const h=i(p);h?d.push(h):(fo(),d.push(p))}else d.push(p)}const f=a.spans.length-d.length;f&&e.recordDroppedEvent("before_send","span",f),a.spans=d}}if(o){if(a.spans){const u=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return o(a,r)}}return a}function _o(e){return e.type===void 0}function Au(e){return e.type==="transaction"}function bh(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function vh(e,t,n,r){const s={};return t?.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=kn(r)),Qt(s,[bh(e)])}function $s(e,t){const n=Eh(e)??[];if(n.length===0)return;const r=e.getOptions(),s=vh(n,r._metadata,r.tunnel,e.getDsn());Ou().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function Eh(e){return Ou().get(e)}function Ou(){return tr("clientToLogBufferMap",()=>new WeakMap)}function wh(e,t){t.debug===!0&&(L?I.enable():Kt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),se().update(t.initialScope);const r=new e(t);return Th(r),r.init(),r}function Th(e){se().setClient(e)}const Lu=Symbol.for("SentryBufferFullError");function Ih(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return qr(Lu);const c=i();return t.indexOf(c)===-1&&t.push(c),c.then(()=>r(c)).then(null,()=>r(c).then(null,()=>{})),c}function o(i){return new Nt((c,a)=>{let u=t.length;if(!u)return c(!0);const d=setTimeout(()=>{i&&i>0&&c(!1)},i);t.forEach(l=>{St(l).then(()=>{--u||(clearTimeout(d),c(!0))},a)})})}return{$:t,add:s,drain:o}}const xh=60*1e3;function kh(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?xh:r-t}function Ch(e,t){return e[t]||e.all||0}function Du(e,t,n=Date.now()){return Ch(e,t)>n}function Pu(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n?.["x-sentry-rate-limits"],i=n?.["retry-after"];if(o)for(const c of o.trim().split(",")){const[a,u,,,d]=c.split(":",5),l=parseInt(a,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else i?s.all=r+kh(i,r):t===429&&(s.all=r+60*1e3);return s}const Rh=64;function Nh(e,t,n=Ih(e.bufferSize||Rh)){let r={};const s=i=>n.drain(i);function o(i){const c=[];if(sa(i,(l,f)=>{const p=oa(f);Du(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):c.push(l)}),c.length===0)return St({});const a=Qt(i[0],c),u=l=>{sa(a,(f,p)=>{e.recordDroppedEvent(l,oa(p))})},d=()=>t({body:pp(a)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&L&&I.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Pu(r,l),l),l=>{throw u("network_error"),L&&I.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Lu)return L&&I.error("Skipped sending event because buffer is full."),u("queue_overflow"),St({});throw l})}return{send:o,flush:s}}function Mh(e,t){const n=t?.getDsn(),r=t?.getOptions().tunnel;return Oh(e,n)||Ah(e,r)}function Ah(e,t){return t?wa(e)===wa(t):!1}function Oh(e,t){return t?e.includes(t.host):!1}function wa(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Lh(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Fu(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:Ht})),version:Ht}),e._metadata=s}function $u(e={}){const t=e.client||Y();if(!sh()||!t)return{};const n=Xt(),r=Tn(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||se(),o=e.span||Me(),i=o?np(o):Dh(s),c=o?yt(o):hu(t,s),a=Hf(c);return iu.test(i)?{"sentry-trace":i,baggage:a}:(I.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Dh(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return au(t,r,n)}function Ph(e,t,n){let r,s,o;const i=n?.maxWait?Math.max(n.maxWait,t):0,c=n?.setTimeoutImpl||setTimeout;function a(){return u(),r=e(),r}function u(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function d(){return s!==void 0||o!==void 0?a():r}function l(){return s&&clearTimeout(s),s=c(a,t),i&&o===void 0&&(o=c(a,i)),r}return l.cancel=u,l.flush=d,l}const Fh=100;function Mt(e,t){const n=Y(),r=et();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Fh}=n.getOptions();if(o<=0)return;const c={timestamp:Jt(),...e},a=s?Kt(()=>s(c,t)):c;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,o))}let Ta;const $h="FunctionToString",Ia=new WeakMap,jh=(()=>({name:$h,setupOnce(){Ta=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=qo(this),n=Ia.has(Y())&&t!==void 0?t:this;return Ta.apply(n,e)}}catch{}},setup(e){Ia.set(e,!0)}})),Bh=jh,Hh=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Uh="EventFilters",Wh=(e={})=>{let t;return{name:Uh,setup(n){const r=n.getOptions();t=xa(e,r)},processEvent(n,r,s){if(!t){const o=s.getOptions();t=xa(e,o)}return qh(n,t)?null:n}}},zh=((e={})=>({...Wh(e),name:"InboundFilters"}));function xa(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Hh],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function qh(e,t){if(e.type){if(e.type==="transaction"&&Vh(e,t.ignoreTransactions))return L&&I.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$t(e)}`),!0}else{if(Gh(e,t.ignoreErrors))return L&&I.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$t(e)}`),!0;if(Jh(e))return L&&I.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${$t(e)}`),!0;if(Yh(e,t.denyUrls))return L&&I.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$t(e)}.
Url: ${Gr(e)}`),!0;if(!Xh(e,t.allowUrls))return L&&I.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$t(e)}.
Url: ${Gr(e)}`),!0}return!1}function Gh(e,t){return t?.length?Ru(e).some(n=>pt(n,t)):!1}function Vh(e,t){if(!t?.length)return!1;const n=e.transaction;return n?pt(n,t):!1}function Yh(e,t){if(!t?.length)return!1;const n=Gr(e);return n?pt(n,t):!1}function Xh(e,t){if(!t?.length)return!0;const n=Gr(e);return n?pt(n,t):!0}function Kh(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Gr(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?Kh(n):null}catch{return L&&I.error(`Cannot extract url for event ${$t(e)}`),null}}function Jh(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Zh(e,t,n,r,s,o){if(!s.exception?.values||!o||!gt(o.originalException,Error))return;const i=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;i&&(s.exception.values=yo(e,t,r,o.originalException,n,s.exception.values,i,0))}function yo(e,t,n,r,s,o,i,c){if(o.length>=n+1)return o;let a=[...o];if(gt(r[s],Error)){ka(i,c);const u=e(t,r[s]),d=a.length;Ca(u,s,d,c),a=yo(e,t,n,r[s],s,[u,...a],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(gt(u,Error)){ka(i,c);const l=e(t,u),f=a.length;Ca(l,`errors[${d}]`,f,c),a=yo(e,t,n,u,s,[l,...a],l,f)}}),a}function ka(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Ca(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Qh(e){const t="console";Lt(t,e),Dt(t,em)}function em(){"console"in ne&&ef.forEach(function(e){e in ne.console&&Le(ne.console,e,function(t){return Br[e]=t,function(...n){qe("console",{args:n,level:e}),Br[e]?.apply(ne.console,n)}})})}function ju(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const tm="Dedupe",nm=(()=>{let e;return{name:tm,processEvent(t){if(t.type)return t;try{if(sm(t,e))return L&&I.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),rm=nm;function sm(e,t){return t?!!(om(e,t)||im(e,t)):!1}function om(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Hu(e,t)||!Bu(e,t))}function im(e,t){const n=Ra(t),r=Ra(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Hu(e,t)||!Bu(e,t))}function Bu(e,t){let n=zi(e),r=zi(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function Hu(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Ra(e){return e.exception?.values?.[0]}const am="thismessage:/";function Uu(e){return"isRelative"in e}function Wu(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?am:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function cm(e){if(Uu(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function zt(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function um(e){return e.split(/[?#]/,1)[0]}function lm(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const{method:o,url:i}=e.fetchData,c=Ct()&&t(i);if(e.endTimestamp&&c){const l=e.fetchData.__span;if(!l)return;const f=r[l];f&&(fm(f,e),delete r[l]);return}const a=!!Me(),u=c&&a?Cn(hm(i,o,s)):new Rt;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){const l=e.args[0],f=e.args[1]||{},p=dm(l,f,Ct()&&a?u:void 0);p&&(e.args[1]=f,f.headers=p)}const d=Y();if(d){const l={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,l)}return u}function dm(e,t,n){const r=$u({span:n}),s=r["sentry-trace"],o=r.baggage;if(!s)return;const i=t.headers||(Gc(e)?e.headers:void 0);if(i)if(pm(i)){const c=new Headers(i);if(c.get("sentry-trace")||c.set("sentry-trace",s),o){const a=c.get("baggage");a?Sr(a)||c.set("baggage",`${a},${o}`):c.set("baggage",o)}return c}else if(Array.isArray(i)){const c=[...i];i.find(u=>u[0]==="sentry-trace")||c.push(["sentry-trace",s]);const a=i.find(u=>u[0]==="baggage"&&Sr(u[1]));return o&&!a&&c.push(["baggage",o]),c}else{const c="sentry-trace"in i?i["sentry-trace"]:void 0,a="baggage"in i?i.baggage:void 0,u=a?Array.isArray(a)?[...a]:[a]:[],d=a&&(Array.isArray(a)?a.find(l=>Sr(l)):Sr(a));return o&&!d&&u.push(o),{...i,"sentry-trace":c??s,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function fm(e,t){if(t.response){eu(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:ye,message:"internal_error"});e.end()}function Sr(e){return e.split(",").some(t=>t.trim().startsWith(Yo))}function pm(e){return typeof Headers<"u"&&gt(e,Headers)}function hm(e,t,n){const r=Wu(e);return{name:r?`${t} ${cm(r)}`:t,attributes:mm(e,r,t,n)}}function mm(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[Se]:r,[_t]:"http.client"};return t&&(Uu(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function zu(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Vn=ne;function gm(){return"history"in Vn&&!!Vn.history}function _m(){if(!("fetch"in Vn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function So(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ym(){if(typeof EdgeRuntime=="string")return!0;if(!_m())return!1;if(So(Vn.fetch))return!0;let e=!1;const t=Vn.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=So(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){L&&I.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function qu(e,t){const n="fetch";Lt(n,e),Dt(n,()=>Gu(void 0,t))}function Sm(e){const t="fetch-body-resolved";Lt(t,e),Dt(t,()=>Gu(vm))}function Gu(e,t=!1){t&&!ym()||Le(ne,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:i}=Em(r),c={args:r,fetchData:{method:o,url:i},startTimestamp:Te()*1e3,virtualError:s,headers:wm(r)};return e||qe("fetch",{...c}),n.apply(ne,r).then(async a=>(e?e(a):qe("fetch",{...c,endTimestamp:Te()*1e3,response:a}),a),a=>{if(qe("fetch",{...c,endTimestamp:Te()*1e3,error:a}),fs(a)&&a.stack===void 0&&(a.stack=s.stack,He(a,"framesToPop",1)),a instanceof TypeError&&(a.message==="Failed to fetch"||a.message==="Load failed"||a.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(c.fetchData.url);a.message=`${a.message} (${u.host})`}catch{}throw a})}})}async function bm(e,t){if(e?.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:c}=await r.read();clearTimeout(i),c&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(i)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function vm(e){let t;try{t=e.clone()}catch{return}bm(t,()=>{qe("fetch-body-resolved",{endTimestamp:Te()*1e3,response:e})})}function bo(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Na(e){return typeof e=="string"?e:e?bo(e,"url")?e.url:e.toString?e.toString():"":""}function Em(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Na(n),method:bo(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Na(t),method:bo(t,"method")?String(t.method).toUpperCase():"GET"}}function wm(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Gc(t))return new Headers(t.headers)}catch{}}function Tm(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Im(){return"npm"}function xm(){return!Tm()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ma(){return typeof window<"u"&&(!xm()||km())}function km(){return ne.process?.type==="renderer"}const X=ne;let vo=0;function Vu(){return vo>0}function Cm(){vo++,setTimeout(()=>{vo--})}function _n(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(qo(e))return e}catch{return e}const r=function(...s){try{const o=s.map(i=>_n(i,t));return e.apply(this,o)}catch(o){throw Cm(),In(i=>{i.addEventProcessor(c=>(t.mechanism&&(co(c,void 0),pn(c,t.mechanism)),c.extra={...c.extra,arguments:s},c)),ei(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Yc(r,e),He(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function ti(){const e=wn(),{referrer:t}=X.document||{},{userAgent:n}=X.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function ni(e,t){const n=ri(e,t),r={type:Om(t),value:Lm(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Rm(e,t,n,r){const o=Y()?.getOptions().normalizeDepth,i=jm(t),c={__serialized__:mu(t,o)};if(i)return{exception:{values:[ni(e,i)]},extra:c};const a={exception:{values:[{type:ps(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Fm(t,{isUnhandledRejection:r})}]},extra:c};if(n){const u=ri(e,n);u.length&&(a.exception.values[0].stacktrace={frames:u})}return a}function js(e,t){return{exception:{values:[ni(e,t)]}}}function ri(e,t){const n=t.stacktrace||t.stack||"",r=Mm(t),s=Am(t);try{return e(n,r,s)}catch{}return[]}const Nm=/Minified React error #\d+;/i;function Mm(e){return e&&Nm.test(e.message)?1:0}function Am(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Yu(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Om(e){const t=e?.name;return!t&&Yu(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Lm(e){const t=e?.message;return Yu(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Dm(e,t,n,r){const s=n?.syntheticException||void 0,o=si(e,t,s,r);return pn(o),o.level="error",n?.event_id&&(o.event_id=n.event_id),St(o)}function Pm(e,t,n="info",r,s){const o=r?.syntheticException||void 0,i=Eo(e,t,o,s);return i.level=n,r?.event_id&&(i.event_id=r.event_id),St(i)}function si(e,t,n,r,s){let o;if(zc(t)&&t.error)return js(e,t.error);if(Gi(t)||ff(t)){const i=t;if("stack"in t)o=js(e,t);else{const c=i.name||(Gi(i)?"DOMError":"DOMException"),a=i.message?`${c}: ${i.message}`:c;o=Eo(e,a,n,r),co(o,a)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return fs(t)?js(e,t):Gn(t)||ps(t)?(o=Rm(e,t,n,s),pn(o,{synthetic:!0}),o):(o=Eo(e,t,n,r),co(o,`${t}`),pn(o,{synthetic:!0}),o)}function Eo(e,t,n,r){const s={};if(r&&n){const o=ri(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),pn(s,{synthetic:!0})}if(Wo(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function Fm(e,{isUnhandledRejection:t}){const n=yf(e),r=t?"promise rejection":"exception";return zc(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:ps(e)?`Event \`${$m(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function $m(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function jm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}const Bm=5e3;class Hm extends _h{constructor(t){const n=Um(t),r=X.SENTRY_SDK_SOURCE||Im();Fu(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:o,enableLogs:i}=this._options;X.document&&(o||i)&&X.document.addEventListener("visibilitychange",()=>{X.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),i&&$s(this))}),i&&(this.on("flush",()=>{$s(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{$s(this)},Bm)})),s&&this.on("beforeSendSession",Lh)}eventFromException(t,n){return Dm(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Pm(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function Um(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:X.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const yn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,z=ne,Wm=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",ar=(e,t,n,r)=>{let s,o;return i=>{t.value>=0&&(i||r)&&(o=t.value-(s??0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=Wm(t.value,n),e(t)))}},zm=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,cr=(e=!0)=>{const t=z.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Rn=()=>cr()?.activationStart??0,ur=(e,t=-1)=>{const n=cr();let r="navigate";return n&&(z.document?.prerendering||Rn()>0?r="prerender":z.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:zm(),navigationType:r}},Bs=new WeakMap;function oi(e,t){return Bs.get(e)||Bs.set(e,new t),Bs.get(e)}class Vr{constructor(){Vr.prototype.__init.call(this),Vr.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const Nn=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},ii=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Fn=-1;const qm=()=>z.document?.visibilityState==="hidden"&&!z.document?.prerendering?0:1/0,Yr=e=>{z.document.visibilityState==="hidden"&&Fn>-1&&(Fn=e.type==="visibilitychange"?e.timeStamp:0,Vm())},Gm=()=>{addEventListener("visibilitychange",Yr,!0),addEventListener("prerenderingchange",Yr,!0)},Vm=()=>{removeEventListener("visibilitychange",Yr,!0),removeEventListener("prerenderingchange",Yr,!0)},ai=()=>{if(z.document&&Fn<0){const e=Rn();Fn=(z.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??qm(),Gm()}return{get firstHiddenTime(){return Fn}}},ms=e=>{z.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Ym=[1800,3e3],Xm=(e,t={})=>{ms(()=>{const n=ai(),r=ur("FCP");let s;const i=Nn("paint",c=>{for(const a of c)a.name==="first-contentful-paint"&&(i.disconnect(),a.startTime<n.firstHiddenTime&&(r.value=Math.max(a.startTime-Rn(),0),r.entries.push(a),s(!0)))});i&&(s=ar(e,r,Ym,t.reportAllChanges))})},Km=[.1,.25],Jm=(e,t={})=>{Xm(ii(()=>{const n=ur("CLS",0);let r;const s=oi(t,Vr),o=c=>{for(const a of c)s._processEntry(a);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},i=Nn("layout-shift",o);i&&(r=ar(e,n,Km,t.reportAllChanges),z.document?.addEventListener("visibilitychange",()=>{z.document?.visibilityState==="hidden"&&(o(i.takeRecords()),r(!0))}),z?.setTimeout?.(r))}))};let Xu=0,Hs=1/0,br=0;const Zm=e=>{e.forEach(t=>{t.interactionId&&(Hs=Math.min(Hs,t.interactionId),br=Math.max(br,t.interactionId),Xu=br?(br-Hs)/7+1:0)})};let wo;const Ku=()=>wo?Xu:performance.interactionCount||0,Qm=()=>{"interactionCount"in performance||wo||(wo=Nn("event",Zm,{type:"event",buffered:!0,durationThreshold:0}))},Us=10;let Ju=0;const eg=()=>Ku()-Ju;class Xr{constructor(){Xr.prototype.__init.call(this),Xr.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Ju=Ku(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(eg()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Us||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((s,o)=>o._latency-s._latency),this._longestInteractionList.length>Us){const s=this._longestInteractionList.splice(Us);for(const o of s)this._longestInteractionMap.delete(o.id)}this._onAfterProcessingINPCandidate?.(r)}}}const ci=e=>{const t=n=>{(n.type==="pagehide"||z.document?.visibilityState==="hidden")&&e(n)};z.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Zu=e=>{const t=z.requestIdleCallback||z.setTimeout;z.document?.visibilityState==="hidden"?e():(e=ii(e),t(e),ci(e))},tg=[200,500],ng=40,rg=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&ms(()=>{Qm();const n=ur("INP");let r;const s=oi(t,Xr),o=c=>{Zu(()=>{for(const u of c)s._processEntry(u);const a=s._estimateP98LongestInteraction();a&&a._latency!==n.value&&(n.value=a._latency,n.entries=a.entries,r())})},i=Nn("event",o,{durationThreshold:t.durationThreshold??ng});r=ar(e,n,tg,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),ci(()=>{o(i.takeRecords()),r(!0)}))})};class sg{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const og=[2500,4e3],ig=(e,t={})=>{ms(()=>{const n=ai(),r=ur("LCP");let s;const o=oi(t,sg),i=a=>{t.reportAllChanges||(a=a.slice(-1));for(const u of a)o._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Rn(),0),r.entries=[u],s())},c=Nn("largest-contentful-paint",i);if(c){s=ar(e,r,og,t.reportAllChanges);const a=ii(()=>{i(c.takeRecords()),c.disconnect(),s(!0)});for(const u of["keydown","click","visibilitychange"])z.document&&addEventListener(u,()=>Zu(a),{capture:!0,once:!0})}})},ag=[800,1800],To=e=>{z.document?.prerendering?ms(()=>To(e)):z.document?.readyState!=="complete"?addEventListener("load",()=>To(e),!0):setTimeout(e)},cg=(e,t={})=>{const n=ur("TTFB"),r=ar(e,n,ag,t.reportAllChanges);To(()=>{const s=cr();s&&(n.value=Math.max(s.responseStart-Rn(),0),n.entries=[s],r(!0))})},$n={},Kr={};let Qu,el,tl,nl;function ui(e,t=!1){return gs("cls",e,lg,Qu,t)}function li(e,t=!1){return gs("lcp",e,dg,el,t)}function ug(e){return gs("ttfb",e,fg,tl)}function rl(e){return gs("inp",e,pg,nl)}function Yt(e,t){return sl(e,t),Kr[e]||(hg(e),Kr[e]=!0),ol(e,t)}function lr(e,t){const n=$n[e];if(n?.length)for(const r of n)try{r(t)}catch(s){yn&&I.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${mt(r)}
Error:`,s)}}function lg(){return Jm(e=>{lr("cls",{metric:e}),Qu=e},{reportAllChanges:!0})}function dg(){return ig(e=>{lr("lcp",{metric:e}),el=e},{reportAllChanges:!0})}function fg(){return cg(e=>{lr("ttfb",{metric:e}),tl=e})}function pg(){return rg(e=>{lr("inp",{metric:e}),nl=e})}function gs(e,t,n,r,s=!1){sl(e,t);let o;return Kr[e]||(o=n(),Kr[e]=!0),r&&t({metric:r}),ol(e,t,s?o:void 0)}function hg(e){const t={};e==="event"&&(t.durationThreshold=0),Nn(e,n=>{lr(e,{entries:n})},t)}function sl(e,t){$n[e]=$n[e]||[],$n[e].push(t)}function ol(e,t,n){return()=>{n&&n();const r=$n[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function mg(e){return"duration"in e}function Ws(e){return typeof e=="number"&&isFinite(e)}function At(e,t,n,{...r}){const s=te(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Zo(e,()=>{const o=Cn({startTime:t,...r});return o&&o.end(n),o})}function di(e){const t=Y();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:i,environment:c,sendDefaultPii:a}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=se(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0;let h;try{h=l.getScopeData().contexts.profile.profile_id}catch{}const m={release:i,environment:c,user:p||void 0,profile_id:h||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":z.navigator?.userAgent,"client.address":a?"{{auto}}":void 0,...s};return Cn({name:n,attributes:m,startTime:o,experimental:{standalone:!0}})}function _s(){return z.addEventListener&&z.performance}function he(e){return e/1e3}function il(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function al(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function cl(e,t){let n,r=!1;function s(c){!r&&n&&t(c,n),r=!0}ci(()=>{s("pagehide")});const o=e.on("beforeStartNavigationSpan",(c,a)=>{a?.isRedirect||(s("navigation"),Aa(o,i))}),i=e.on("afterStartPageLoadSpan",c=>{n=c.spanContext().spanId,Aa(i)})}function Aa(...e){e.forEach(t=>t&&setTimeout(t,0))}function gg(e){let t=0,n;if(!al("layout-shift"))return;const r=ui(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(t=s.value,n=o)},!0);cl(e,(s,o)=>{_g(t,n,o,s),r()})}function _g(e,t,n,r){yn&&I.log(`Sending CLS span (${e})`);const s=he((Fe()||0)+(t?.startTime||0)),o=se().getScopeData().transactionName,i=t?Ge(t.sources[0]?.node):"Layout shift",c={[Se]:"auto.http.browser.cls",[_t]:"ui.webvital.cls",[xn]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{c[`cls.source.${d+1}`]=Ge(u.node)});const a=di({name:i,transaction:o,attributes:c,startTime:s});a&&(a.addEvent("cls",{[or]:"",[ir]:e}),a.end(s))}function yg(e){let t=0,n;if(!al("largest-contentful-paint"))return;const r=li(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(t=s.value,n=o)},!0);cl(e,(s,o)=>{Sg(t,n,o,s),r()})}function Sg(e,t,n,r){yn&&I.log(`Sending LCP span (${e})`);const s=he((Fe()||0)+(t?.startTime||0)),o=se().getScopeData().transactionName,i=t?Ge(t.element):"Largest contentful paint",c={[Se]:"auto.http.browser.lcp",[_t]:"ui.webvital.lcp",[xn]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(c["lcp.element"]=Ge(t.element)),t.id&&(c["lcp.id"]=t.id),t.url&&(c["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(c["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(c["lcp.renderTime"]=t.renderTime),t.size!=null&&(c["lcp.size"]=t.size));const a=di({name:i,transaction:o,attributes:c,startTime:s});a&&(a.addEvent("lcp",{[or]:"millisecond",[ir]:e}),a.end(s))}const bg=2147483647;let Oa=0,Ke={},Oe,Jr;function vg({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=_s();if(r&&Fe()){r.mark&&z.performance.mark("sentry-tracing-init");const s=t?yg(n):xg(),o=kg(),i=e?gg(n):Ig();return()=>{s?.(),o(),i?.()}}return()=>{}}function Eg(){Yt("longtask",({entries:e})=>{const t=Me();if(!t)return;const{op:n,start_timestamp:r}=te(t);for(const s of e){const o=he(Fe()+s.startTime),i=he(s.duration);n==="navigation"&&r&&o<r||At(t,o,o+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Se]:"auto.ui.browser.metrics"}})}})}function wg(){new PerformanceObserver(t=>{const n=Me();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=he(Fe()+r.startTime),{start_timestamp:o,op:i}=te(n);if(i==="navigation"&&o&&s<o)continue;const c=he(r.duration),a={[Se]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:h}=u;a["browser.script.invoker"]=d,a["browser.script.invoker_type"]=l,f&&(a["code.filepath"]=f),p&&(a["code.function"]=p),h!==-1&&(a["browser.script.source_char_position"]=h),At(n,s,s+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:a})}}).observe({type:"long-animation-frame",buffered:!0})}function Tg(){Yt("event",({entries:e})=>{const t=Me();if(t){for(const n of e)if(n.name==="click"){const r=he(Fe()+n.startTime),s=he(n.duration),o={name:Ge(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Se]:"auto.ui.browser.metrics"}},i=Vc(n.target);i&&(o.attributes["ui.component_name"]=i),At(t,r,r+s,o)}}})}function Ig(){return ui(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ke.cls={value:e.value,unit:""},Jr=t)},!0)}function xg(){return li(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ke.lcp={value:e.value,unit:"millisecond"},Oe=t)},!0)}function kg(){return ug(({metric:e})=>{e.entries[e.entries.length-1]&&(Ke.ttfb={value:e.value,unit:"millisecond"})})}function Cg(e,t){const n=_s(),r=Fe();if(!n?.getEntries||!r)return;const s=he(r),o=n.getEntries(),{op:i,start_timestamp:c}=te(e);o.slice(Oa).forEach(a=>{const u=he(a.startTime),d=he(Math.max(0,a.duration));if(!(i==="navigation"&&c&&s+u<c))switch(a.entryType){case"navigation":{Mg(e,a,s);break}case"mark":case"paint":case"measure":{Rg(e,a,u,d,s,t.ignorePerformanceApiSpans);const l=ai(),f=a.startTime<l.firstHiddenTime;a.name==="first-paint"&&f&&(Ke.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&f&&(Ke.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{Lg(e,a,a.name,u,d,s,t.ignoreResourceSpans);break}}}),Oa=Math.max(o.length-1,0),Dg(e),i==="pageload"&&(Fg(Ke),t.recordClsOnPageloadSpan||delete Ke.cls,t.recordLcpOnPageloadSpan||delete Ke.lcp,Object.entries(Ke).forEach(([a,u])=>{xp(a,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",Rn()),Pg(e,t)),Oe=void 0,Jr=void 0,Ke={}}function Rg(e,t,n,r,s,o){if(["mark","measure"].includes(t.entryType)&&pt(t.name,o))return;const i=cr(!1),c=he(i?i.requestStart:0),a=s+Math.max(n,c),u=s+n,d=u+r,l={[Se]:"auto.resource.browser.metrics"};a!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=a),Ng(l,t),a<=d&&At(e,a,d,{name:t.name,op:t.entryType,attributes:l})}function Ng(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&qn(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(qn(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function Mg(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{vr(e,t,r,n)}),vr(e,t,"secureConnection",n,"TLS/SSL"),vr(e,t,"fetch",n,"cache"),vr(e,t,"domainLookup",n,"DNS"),Og(e,t,n)}function vr(e,t,n,r,s=n){const o=Ag(n),i=t[o],c=t[`${n}Start`];!c||!i||At(e,r+he(c),r+he(i),{op:`browser.${s}`,name:t.name,attributes:{[Se]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function Ag(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Og(e,t,n){const r=n+he(t.requestStart),s=n+he(t.responseEnd),o=n+he(t.responseStart);t.responseEnd&&(At(e,r,s,{op:"browser.request",name:t.name,attributes:{[Se]:"auto.ui.browser.metrics"}}),At(e,o,s,{op:"browser.response",name:t.name,attributes:{[Se]:"auto.ui.browser.metrics"}}))}function Lg(e,t,n,r,s,o,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const c=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(i?.includes(c))return;const a=zt(n),u={[Se]:"auto.resource.browser.metrics"};zs(u,t,"transferSize","http.response_transfer_size"),zs(u,t,"encodedBodySize","http.response_content_length"),zs(u,t,"decodedBodySize","http.decoded_response_content_length");const d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);const l=t.renderBlockingStatus;if(l&&(u["resource.render_blocking_status"]=l),a.protocol&&(u["url.scheme"]=a.protocol.split(":").pop()),a.host&&(u["server.address"]=a.host),u["url.same_origin"]=n.includes(z.location.origin),t.nextHopProtocol!=null){const{name:h,version:m}=il(t.nextHopProtocol);u["network.protocol.name"]=h,u["network.protocol.version"]=m}const f=o+r,p=f+s;At(e,f,p,{name:n.replace(z.location.origin,""),op:c,attributes:u})}function Dg(e){const t=z.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Ws(n.rtt)&&(Ke["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ws(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Ws(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Pg(e,t){Oe&&t.recordLcpOnPageloadSpan&&(Oe.element&&e.setAttribute("lcp.element",Ge(Oe.element)),Oe.id&&e.setAttribute("lcp.id",Oe.id),Oe.url&&e.setAttribute("lcp.url",Oe.url.trim().slice(0,200)),Oe.loadTime!=null&&e.setAttribute("lcp.loadTime",Oe.loadTime),Oe.renderTime!=null&&e.setAttribute("lcp.renderTime",Oe.renderTime),e.setAttribute("lcp.size",Oe.size)),Jr?.sources&&t.recordClsOnPageloadSpan&&Jr.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Ge(n.node)))}function zs(e,t,n,r){const s=t[n];s!=null&&s<bg&&(e[r]=s)}function Fg(e){const t=cr(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function $g(){return _s()&&Fe()?Yt("element",jg):()=>{}}const jg=({entries:e})=>{const t=Me(),n=t?xe(t):void 0,r=n?te(n).description:se().getScopeData().transactionName;e.forEach(s=>{const o=s;if(!o.identifier)return;const i=o.name,c=o.renderTime,a=o.loadTime,[u,d]=a?[he(a),"load-time"]:c?[he(c),"render-time"]:[Te(),"entry-emission"],l=i==="image-paint"?he(Math.max(0,(c??0)-(a??0))):0,f={[Se]:"auto.ui.browser.elementtiming",[_t]:"ui.elementtiming",[Qe]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":o.id,"element.type":o.element?.tagName?.toLowerCase()||"unknown","element.size":o.naturalWidth&&o.naturalHeight?`${o.naturalWidth}x${o.naturalHeight}`:void 0,"element.render_time":c,"element.load_time":a,"element.url":o.url||void 0,"element.identifier":o.identifier,"element.paint_type":i};Ap({name:`element[${o.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},p=>{p.end(u+l)})})},Bg=1e3;let La,Io,xo;function ul(e){Lt("dom",e),Dt("dom",Hg)}function Hg(){if(!z.document)return;const e=qe.bind(null,"dom"),t=Da(e,!0);z.document.addEventListener("click",t,!1),z.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=z[n]?.prototype;s?.hasOwnProperty?.("addEventListener")&&(Le(s,"addEventListener",function(o){return function(i,c,a){if(i==="click"||i=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[i]=u[i]||{refCount:0};if(!d.handler){const l=Da(e);d.handler=l,o.call(this,i,l,a)}d.refCount++}catch{}return o.call(this,i,c,a)}}),Le(s,"removeEventListener",function(o){return function(i,c,a){if(i==="click"||i=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[i];d&&(d.refCount--,d.refCount<=0&&(o.call(this,i,d.handler,a),d.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,i,c,a)}}))})}function Ug(e){if(e.type!==Io)return!1;try{if(!e.target||e.target._sentryId!==xo)return!1}catch{}return!0}function Wg(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Da(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=zg(n);if(Wg(n.type,r))return;He(n,"_sentryCaptured",!0),r&&!r._sentryId&&He(r,"_sentryId",Be());const s=n.type==="keypress"?"input":n.type;Ug(n)||(e({event:n,name:s,global:t}),Io=n.type,xo=r?r._sentryId:void 0),clearTimeout(La),La=z.setTimeout(()=>{xo=void 0,Io=void 0},Bg)}}function zg(e){try{return e.target}catch{return null}}let Er;function ys(e){const t="history";Lt(t,e),Dt(t,qg)}function qg(){if(z.addEventListener("popstate",()=>{const t=z.location.href,n=Er;if(Er=t,n===t)return;qe("history",{from:n,to:t})}),!gm())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=Er,o=Gg(String(r));if(Er=o,s===o)return t.apply(this,n);qe("history",{from:s,to:o})}return t.apply(this,n)}}Le(z.history,"pushState",e),Le(z.history,"replaceState",e)}function Gg(e){try{return new URL(e,z.location.origin).toString()}catch{return e}}const Dr={};function ll(e){const t=Dr[e];if(t)return t;let n=z[e];if(So(n))return Dr[e]=n.bind(z);const r=z.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o?.[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){yn&&I.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Dr[e]=n.bind(z))}function Pa(e){Dr[e]=void 0}function dr(...e){return ll("setTimeout")(...e)}const jt="__sentry_xhr_v3__";function dl(e){Lt("xhr",e),Dt("xhr",Vg)}function Vg(){if(!z.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,o=Te()*1e3,i=ft(r[0])?r[0].toUpperCase():void 0,c=Yg(r[1]);if(!i||!c)return t.apply(n,r);n[jt]={method:i,url:c,request_headers:{}},i==="POST"&&c.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const a=()=>{const u=n[jt];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:Te()*1e3,startTimestamp:o,xhr:n,virtualError:s};qe("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return a(),u.apply(d,l)}}):n.addEventListener("readystatechange",a),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,h=d[jt];return h&&ft(f)&&ft(p)&&(h.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[jt];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:Te()*1e3,xhr:n};return qe("xhr",o),t.apply(n,r)}})}function Yg(e){if(ft(e))return e;try{return e.toString()}catch{}}function fl(e){return new URLSearchParams(e).toString()}function pl(e,t=I){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[fl(e)];if(!e)return[void 0]}catch(n){return yn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return yn&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function hl(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}const qs=[],Pr=new Map,Xg=60;function Kg(){if(_s()&&Fe()){const t=Jg();return()=>{t()}}return()=>{}}const Fa={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Jg(){return rl(Zg)}const Zg=({metric:e})=>{if(e.value==null)return;const t=he(e.value);if(t>Xg)return;const n=e.entries.find(h=>h.duration===e.value&&Fa[h.name]);if(!n)return;const{interactionId:r}=n,s=Fa[n.name],o=he(Fe()+n.startTime),i=Me(),c=i?xe(i):void 0,u=(r!=null?Pr.get(r):void 0)||c,d=u?te(u).description:se().getScopeData().transactionName,l=Ge(n.target),f={[Se]:"auto.http.browser.inp",[_t]:`ui.interaction.${s}`,[xn]:n.duration},p=di({name:l,transaction:d,attributes:f,startTime:o});p&&(p.addEvent("inp",{[or]:"millisecond",[ir]:e.value}),p.end(o+t))};function Qg(){const e=({entries:t})=>{const n=Me(),r=n&&xe(n);t.forEach(s=>{if(!mg(s)||!r)return;const o=s.interactionId;if(o!=null&&!Pr.has(o)){if(qs.length>10){const i=qs.shift();Pr.delete(i)}qs.push(o),Pr.set(o,r)}})};Yt("event",e),Yt("first-input",e)}function e_(e,t=ll("fetch")){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const c={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Pa("fetch"),qr("No fetch implementation available");try{return t(e.url,c).then(a=>(n-=i,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return Pa("fetch"),n-=i,r--,qr(a)}}return Nh(e,s)}const t_=30,n_=50;function ko(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Gt:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const r_=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,s_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o_=/\((\S*)(?::(\d+))(?::(\d+))\)/,i_=/at (.+?) ?\(data:(.+?),/,a_=e=>{const t=e.match(i_);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=r_.exec(e);if(n){const[,s,o,i]=n;return ko(s,Gt,+o,+i)}const r=s_.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const c=o_.exec(r[2]);c&&(r[2]=c[1],r[3]=c[2],r[4]=c[3])}const[o,i]=ml(r[1]||Gt,r[2]);return ko(i,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},c_=[t_,a_],u_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,l_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d_=e=>{const t=u_.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=l_.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||Gt;return[s,r]=ml(s,r),ko(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},f_=[n_,d_],p_=[c_,f_],h_=Bc(...p_),ml=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Gt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Pe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,wr=1024,m_="Breadcrumbs",g_=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:m_,setup(n){t.console&&Qh(b_(n)),t.dom&&ul(S_(n,t.dom)),t.xhr&&dl(v_(n)),t.fetch&&qu(E_(n)),t.history&&ys(w_(n)),t.sentry&&n.on("beforeSendEvent",y_(n))}}}),__=g_;function y_(e){return function(n){Y()===e&&Mt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:$t(n)},{event:n})}}function S_(e,t){return function(r){if(Y()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,c=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;c&&c>wr&&(Pe&&I.warn(`\`dom.maxStringLength\` cannot exceed ${wr}, but a value of ${c} was configured. Sentry will use ${wr} instead.`),c=wr),typeof i=="string"&&(i=[i]);try{const u=r.event,d=T_(u)?u.target:u;s=Ge(d,{keyAttrs:i,maxStringLength:c}),o=Vc(d)}catch{s="<unknown>"}if(s.length===0)return;const a={category:`ui.${r.name}`,message:s};o&&(a.data={"ui.component_name":o}),Mt(a,{event:r.event,name:r.name,global:r.global})}}function b_(e){return function(n){if(Y()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:ju(n.level),message:Vi(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Vi(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Mt(r,{input:n.args,level:n.level})}}function v_(e){return function(n){if(Y()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[jt];if(!r||!s||!o)return;const{method:i,url:c,status_code:a,body:u}=o,d={method:i,url:c,status_code:a},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f={category:"xhr",data:d,type:"http",level:zu(a)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),Mt(f,l)}}function E_(e){return function(n){if(Y()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",c,i),Mt(c,i)}else{const o=n.response,i={...n.fetchData,status_code:o?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o?.status;const c={input:n.args,response:o,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:i,type:"http",level:zu(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",a,c),Mt(a,c)}}}function w_(e){return function(n){if(Y()!==e)return;let r=n.from,s=n.to;const o=zt(X.location.href);let i=r?zt(r):void 0;const c=zt(s);i?.path||(i=o),o.protocol===c.protocol&&o.host===c.host&&(s=c.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),Mt({category:"navigation",data:{from:r,to:s}})}}function T_(e){return!!e&&!!e.target}const I_=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],x_="BrowserApiErrors",k_=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:x_,setupOnce(){t.setTimeout&&Le(X,"setTimeout",$a),t.setInterval&&Le(X,"setInterval",$a),t.requestAnimationFrame&&Le(X,"requestAnimationFrame",R_),t.XMLHttpRequest&&"XMLHttpRequest"in X&&Le(XMLHttpRequest.prototype,"send",N_);const n=t.eventTarget;n&&(Array.isArray(n)?n:I_).forEach(s=>M_(s,t))}}}),C_=k_;function $a(e){return function(...t){const n=t[0];return t[0]=_n(n,{mechanism:{data:{function:mt(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function R_(e){return function(t){return e.apply(this,[_n(t,{mechanism:{data:{function:"requestAnimationFrame",handler:mt(e)},handled:!1,type:"instrument"}})])}}function N_(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Le(n,s,function(o){const i={mechanism:{data:{function:s,handler:mt(o)},handled:!1,type:"instrument"}},c=qo(o);return c&&(i.mechanism.data.handler=mt(c)),_n(o,i)})}),e.apply(this,t)}}function M_(e,t){const r=X[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(Le(r,"addEventListener",function(s){return function(o,i,c){try{A_(i)&&(i.handleEvent=_n(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:mt(i),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&O_(this,o,i),s.apply(this,[o,_n(i,{mechanism:{data:{function:"addEventListener",handler:mt(i),target:e},handled:!1,type:"instrument"}}),c])}}),Le(r,"removeEventListener",function(s){return function(o,i,c){try{const a=i.__sentry_wrapped__;a&&s.call(this,o,a,c)}catch{}return s.call(this,o,i,c)}}))}function A_(e){return typeof e.handleEvent=="function"}function O_(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const L_=()=>({name:"BrowserSession",setupOnce(){if(typeof X.document>"u"){Pe&&I.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}ma({ignoreDuration:!0}),ga(),ys(({from:e,to:t})=>{e!==void 0&&e!==t&&(ma({ignoreDuration:!0}),ga())})}}),D_="GlobalHandlers",P_=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:D_,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&($_(n),ja("onerror")),t.onunhandledrejection&&(j_(n),ja("onunhandledrejection"))}}}),F_=P_;function $_(e){Hc(t=>{const{stackParser:n,attachStacktrace:r}=gl();if(Y()!==e||Vu())return;const{msg:s,url:o,line:i,column:c,error:a}=t,u=U_(si(n,a||s,void 0,r,!1),o,i,c);u.level="error",wu(u,{originalException:a,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function j_(e){Uc(t=>{const{stackParser:n,attachStacktrace:r}=gl();if(Y()!==e||Vu())return;const s=B_(t),o=qn(s)?H_(s):si(n,s,void 0,r,!0);o.level="error",wu(o,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function B_(e){if(qn(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function H_(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function U_(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},c=i.stacktrace=i.stacktrace||{},a=c.frames=c.frames||[],u=r,d=n,l=W_(t)??wn();return a.length===0&&a.push({colno:u,filename:l,function:Gt,in_app:!0,lineno:d}),e}function ja(e){Pe&&I.log(`Global Handler attached: ${e}`)}function gl(){return Y()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function W_(e){if(!(!ft(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e.slice(0,1024)}}const z_=()=>({name:"HttpContext",preprocessEvent(e){if(!X.navigator&&!X.location&&!X.document)return;const t=ti(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),q_="cause",G_=5,V_="LinkedErrors",Y_=((e={})=>{const t=e.limit||G_,n=e.key||q_;return{name:V_,preprocessEvent(r,s,o){const i=o.getOptions();Zh(ni,i.stackParser,n,t,r,s)}}}),X_=Y_;function K_(){return J_()?(Pe&&Kt(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function J_(){if(typeof X.window>"u")return!1;const e=X;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=wn(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(X===X.top&&r.some(o=>n.startsWith(`${o}://`)))}function Z_(e){return[zh(),Bh(),C_(),__(),F_(),X_(),rm(),z_(),L_()]}function Q_(e={}){const t=!e.skipBrowserExtensionCheck&&K_(),n={...e,enabled:t?!1:e.enabled,stackParser:cf(e.stackParser||h_),integrations:fh({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Z_():e.defaultIntegrations}),transport:e.transport||e_};return wh(Hm,n)}function Ba(e={}){const t=X.document,n=t?.head||t?.body;if(!n){Pe&&I.error("[showReportDialog] Global document not defined");return}const r=se(),o=Y()?.getDsn();if(!o){Pe&&I.error("[showReportDialog] DSN not configured");return}const i={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||rh()},c=X.document.createElement("script");c.async=!0,c.crossOrigin="anonymous",c.src=lh(o,i);const{onLoad:a,onClose:u}=i;if(a&&(c.onload=a),u){const d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{X.removeEventListener("message",d)}};X.addEventListener("message",d)}n.appendChild(c)}const le=ne,fi="sentryReplaySession",ey="replay_event",pi="Unable to send Replay",ty=3e5,ny=9e5,ry=5e3,sy=5500,oy=6e4,iy=5e3,ay=3,Ha=15e4,Tr=5e3,cy=3e3,uy=300,hi=2e7,ly=4999,dy=15e3,Ua=36e5;var fy=Object.defineProperty,py=(e,t,n)=>t in e?fy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wa=(e,t,n)=>py(e,typeof t!="symbol"?t+"":t,n),be=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(be||{});function hy(e){return e.nodeType===e.ELEMENT_NODE}function jn(e){return e?.host?.shadowRoot===e}function Bn(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function my(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function gy(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Zr(e){try{const t=e.rules||e.cssRules;return t?my(Array.from(t,_l).join("")):null}catch{return null}}function _y(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function _l(e){let t;if(Sy(e))try{t=Zr(e.styleSheet)||gy(e)}catch{}else if(by(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=_y(e)),r&&(n=yy(n)),r||s)return n}return t||e.cssText}function yy(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Sy(e){return"styleSheet"in e}function by(e){return"selectorText"in e}class yl{constructor(){Wa(this,"idNodeMap",new Map),Wa(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function vy(){return new yl}function Ss({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Yn({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Sn(e){return e.toLowerCase()}function Co(e){return e.toUpperCase()}const za="__rrweb_original__";function Ey(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=za in o?o[za]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(a=>a!==0))return!1}return!0}function mi(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Sn(t):null}function Qr(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Sl(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}const qa={};function bl(e){const t=qa[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return qa[e]=r.bind(window)}function Ro(...e){return bl("setTimeout")(...e)}function vl(...e){return bl("clearTimeout")(...e)}function El(e){try{return e.contentDocument}catch{}}let wy=1;const Ty=new RegExp("[^a-z0-9-_:]"),Xn=-2;function gi(){return wy++}function Iy(e){if(e instanceof HTMLFormElement)return"form";const t=Sn(e.tagName);return Ty.test(t)?"div":t}function xy(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let nn,Ga;const ky=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Cy=/^(?:[a-z+]+:)?\/\//i,Ry=/^www\..*/i,Ny=/^(data:)([^,]*),(.*)/i;function es(e,t){return(e||"").replace(ky,(n,r,s,o,i,c)=>{const a=s||i||c,u=r||o||"";if(!a)return n;if(Cy.test(a)||Ry.test(a))return`url(${u}${a}${u})`;if(Ny.test(a))return`url(${u}${a}${u})`;if(a[0]==="/")return`url(${u}${xy(t)+a}${u})`;const d=t.split("/"),l=a.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const My=/^[^ \t\n\r\u000c]+/,Ay=/^[, \t\n\r\u000c]+/;function Oy(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const c=o.exec(t.substring(n));return c?(i=c[0],n+=i.length,i):""}const s=[];for(;r(Ay),!(n>=t.length);){let o=r(My);if(o.slice(-1)===",")o=on(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=on(e,o);let c=!1;for(;;){const a=t.charAt(n);if(a===""){s.push((o+i).trim());break}else if(c)a===")"&&(c=!1);else if(a===","){n+=1,s.push((o+i).trim());break}else a==="("&&(c=!0);i+=a,n+=1}}}return s.join(", ")}const Va=new WeakMap;function on(e,t){return!t||t.trim()===""?t:bs(e,t)}function Ly(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function bs(e,t){let n=Va.get(e);if(n||(n=e.createElement("a"),Va.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function wl(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?on(e,r):n==="srcset"?Oy(e,r):n==="style"?es(r,bs(e)):t==="object"&&n==="data"?on(e,r):typeof o=="function"?o(n,r,s):r)}function Tl(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Il(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function Dy(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Bt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Bt(e.parentNode,t,n,r+1)}function an(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Dy(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function bn(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let c=-1,a=-1;if(o){if(a=Bt(i,an(r,s)),a<0)return!0;c=Bt(i,an(t,n),a>=0?a:1/0)}else{if(c=Bt(i,an(t,n)),c<0)return!1;a=Bt(i,an(r,s),c>=0?c:1/0)}return c>=0?a>=0?c<=a:!0:a>=0?!1:!!o}catch{}return!!o}function Py(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const c=Ro(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{vl(c),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return Ro(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Fy(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=Ro(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{vl(o),r=!0,t()})}function $y(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:c,maskAttributeFn:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:m,maskInputFn:y,dataURLOptions:v={},inlineImages:w,recordCanvas:E,keepIframeSrcFn:T,newlyAddedElement:g=!1}=t,S=jy(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:be.Document,childNodes:[],compatMode:e.compatMode}:{type:be.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:be.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:S};case e.ELEMENT_NODE:return Hy(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:a,maskInputOptions:h,maskInputFn:y,dataURLOptions:v,inlineImages:w,recordCanvas:E,keepIframeSrcFn:T,newlyAddedElement:g,rootId:S,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return By(e,{doc:n,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:h,maskInputFn:y,rootId:S});case e.CDATA_SECTION_NODE:return{type:be.CDATA,textContent:"",rootId:S};case e.COMMENT_NODE:return{type:be.Comment,textContent:e.textContent||"",rootId:S};default:return!1}}function jy(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function By(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:c,maskInputOptions:a,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,m=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=Zr(e.parentNode.sheet))}catch(v){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${v}`,e)}f=es(f,bs(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const y=bn(e,r,o,s,i,n);if(!p&&!h&&!m&&f&&y&&(f=c?c(f,e.parentElement):f.replace(/[\S]/g,"*")),m&&f&&(a.textarea||y)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const v=Ss({type:null,tagName:l,maskInputOptions:a});f=Yn({isMasked:bn(e,r,o,s,i,v),element:e,value:f,maskInputFn:u})}return{type:be.Text,textContent:f||"",isStyle:p,rootId:d}}function Hy(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:c={},maskAttributeFn:a,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:m,maskTextClass:y,unmaskTextClass:v,maskTextSelector:w,unmaskTextSelector:E}=t,T=Il(e,r,s,o),g=Iy(e);let S={};const x=e.attributes.length;for(let k=0;k<x;k++){const A=e.attributes[k];A.name&&!Tl(g,A.name,A.value)&&(S[A.name]=wl(n,g,Sn(A.name),A.value,e,a))}if(g==="link"&&i){const k=Array.from(n.styleSheets).find($=>$.href===e.href);let A=null;k&&(A=Zr(k)),A&&(S.rel=null,S.href=null,S.crossorigin=null,S._cssText=es(A,k.href))}if(g==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const k=Zr(e.sheet);k&&(S._cssText=es(k,bs(n)))}if(g==="input"||g==="textarea"||g==="select"||g==="option"){const k=e,A=mi(k),$=Qr(k,Co(g),A),F=k.checked;if(A!=="submit"&&A!=="button"&&$){const q=bn(k,y,w,v,E,Ss({type:A,tagName:Co(g),maskInputOptions:c}));S.value=Yn({isMasked:q,element:k,value:$,maskInputFn:u})}F&&(S.checked=F)}if(g==="option"&&(e.selected&&!c.select?S.selected=!0:delete S.selected),g==="canvas"&&f){if(e.__context==="2d")Ey(e)||(S.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const k=e.toDataURL(d.type,d.quality),A=n.createElement("canvas");A.width=e.width,A.height=e.height;const $=A.toDataURL(d.type,d.quality);k!==$&&(S.rr_dataURL=k)}}if(g==="img"&&l){nn||(nn=n.createElement("canvas"),Ga=nn.getContext("2d"));const k=e,A=k.currentSrc||k.getAttribute("src")||"<unknown-src>",$=k.crossOrigin,F=()=>{k.removeEventListener("load",F);try{nn.width=k.naturalWidth,nn.height=k.naturalHeight,Ga.drawImage(k,0,0),S.rr_dataURL=nn.toDataURL(d.type,d.quality)}catch(q){if(k.crossOrigin!=="anonymous"){k.crossOrigin="anonymous",k.complete&&k.naturalWidth!==0?F():k.addEventListener("load",F);return}else console.warn(`Cannot inline img src=${A}! Error: ${q}`)}k.crossOrigin==="anonymous"&&($?S.crossOrigin=$:k.removeAttribute("crossorigin"))};k.complete&&k.naturalWidth!==0?F():k.addEventListener("load",F)}if((g==="audio"||g==="video")&&(S.rr_mediaState=e.paused?"paused":"played",S.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop)),T){const{width:k,height:A}=e.getBoundingClientRect();S={class:S.class,rr_width:`${k}px`,rr_height:`${A}px`}}g==="iframe"&&!p(S.src)&&(!T&&!El(e)&&(S.rr_src=S.src),delete S.src);let M;try{customElements.get(g)&&(M=!0)}catch{}return{type:be.Element,tagName:g,attributes:S,childNodes:[],isSVG:Ly(e)||void 0,needBlock:T,rootId:m,isCustom:M}}function ue(e){return e==null?"":e.toLowerCase()}function Uy(e,t){if(t.comment&&e.type===be.Comment)return!0;if(e.type===be.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Sl(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ue(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ue(e.attributes.name)==="application-name"||ue(e.attributes.rel)==="icon"||ue(e.attributes.rel)==="apple-touch-icon"||ue(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ue(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ue(e.attributes.property).match(/^(og|twitter|fb):/)||ue(e.attributes.name).match(/^(og|twitter):/)||ue(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ue(e.attributes.name)==="robots"||ue(e.attributes.name)==="googlebot"||ue(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ue(e.attributes.name)==="author"||ue(e.attributes.name)==="generator"||ue(e.attributes.name)==="framework"||ue(e.attributes.name)==="publisher"||ue(e.attributes.name)==="progid"||ue(e.attributes.property).match(/^article:/)||ue(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ue(e.attributes.name)==="google-site-verification"||ue(e.attributes.name)==="yandex-verification"||ue(e.attributes.name)==="csrf-token"||ue(e.attributes.name)==="p:domain_verify"||ue(e.attributes.name)==="verify-v1"||ue(e.attributes.name)==="verification"||ue(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function cn(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:c,maskTextClass:a,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:E={},inlineImages:T=!1,recordCanvas:g=!1,onSerialize:S,onIframeLoad:x,iframeLoadTimeout:M=5e3,onStylesheetLoad:k,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:$=()=>!1,newlyAddedElement:F=!1}=t;let{preserveWhiteSpace:q=!0}=t;const W=$y(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:c,unblockSelector:i,maskTextClass:a,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:y,maskInputFn:v,dataURLOptions:E,inlineImages:T,recordCanvas:g,keepIframeSrcFn:$,newlyAddedElement:F});if(!W)return console.warn(e,"not serialized"),null;let D;r.hasNode(e)?D=r.getId(e):Uy(W,w)||!q&&W.type===be.Text&&!W.isStyle&&!W.textContent.replace(/^\s+|\s+$/gm,"").length?D=Xn:D=gi();const N=Object.assign(W,{id:D});if(r.add(e,N),D===Xn)return null;S&&S(e);let O=!f;if(N.type===be.Element){O=O&&!N.needBlock,delete N.needBlock;const P=e.shadowRoot;P&&Bn(P)&&(N.isShadowHost=!0)}if((N.type===be.Document||N.type===be.Element)&&O){w.headWhitespace&&N.type===be.Element&&N.tagName==="head"&&(q=!1);const P={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:c,unblockSelector:i,maskTextClass:a,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:E,inlineImages:T,recordCanvas:g,preserveWhiteSpace:q,onSerialize:S,onIframeLoad:x,iframeLoadTimeout:M,onStylesheetLoad:k,stylesheetLoadTimeout:A,keepIframeSrcFn:$};for(const G of Array.from(e.childNodes)){const ae=cn(G,P);ae&&N.childNodes.push(ae)}if(hy(e)&&e.shadowRoot)for(const G of Array.from(e.shadowRoot.childNodes)){const ae=cn(G,P);ae&&(Bn(e.shadowRoot)&&(ae.isShadow=!0),N.childNodes.push(ae))}}return e.parentNode&&jn(e.parentNode)&&Bn(e.parentNode)&&(N.isShadow=!0),N.type===be.Element&&N.tagName==="iframe"&&!Il(e,s,o,i)&&Py(e,()=>{const P=El(e);if(P&&x){const G=cn(P,{doc:P,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:c,maskTextClass:a,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:E,inlineImages:T,recordCanvas:g,preserveWhiteSpace:q,onSerialize:S,onIframeLoad:x,iframeLoadTimeout:M,onStylesheetLoad:k,stylesheetLoadTimeout:A,keepIframeSrcFn:$});G&&x(e,G)}},M),N.type===be.Element&&N.tagName==="link"&&typeof N.attributes.rel=="string"&&(N.attributes.rel==="stylesheet"||N.attributes.rel==="preload"&&typeof N.attributes.href=="string"&&Sl(N.attributes.href)==="css")&&Fy(e,()=>{if(k){const P=cn(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:c,maskTextClass:a,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:E,inlineImages:T,recordCanvas:g,preserveWhiteSpace:q,onSerialize:S,onIframeLoad:x,iframeLoadTimeout:M,onStylesheetLoad:k,stylesheetLoadTimeout:A,keepIframeSrcFn:$});P&&k(e,P)}},A),N}function Wy(e,t){const{mirror:n=new yl,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:c="rr-mask",unmaskTextClass:a=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:y,maskInputFn:v,slimDOM:w=!1,dataURLOptions:E,preserveWhiteSpace:T,onSerialize:g,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:M,stylesheetLoadTimeout:k,keepIframeSrcFn:A=()=>!1}=t||{};return cn(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:c,unmaskTextClass:a,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:y,maskInputFn:v,slimDOMOptions:w===!0||w==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:w==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:w===!1?{}:w,dataURLOptions:E,inlineImages:f,recordCanvas:p,preserveWhiteSpace:T,onSerialize:g,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:M,stylesheetLoadTimeout:k,keepIframeSrcFn:A,newlyAddedElement:!1})}function Ne(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const rn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Ya={map:{},getId(){return console.error(rn),-1},getNode(){return console.error(rn),null},removeNodeFromMap(){console.error(rn)},has(){return console.error(rn),!1},reset(){console.error(rn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ya=new Proxy(Ya,{get(e,t,n){return t==="map"&&console.error(rn),Reflect.get(e,t,n)}}));function Kn(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const c=t-(i-s),a=this;c<=0||c>t?(r&&(Ky(r),r=null),s=i,e.apply(a,o)):!r&&n.trailing!==!1&&(r=vs(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(a,o)},c))}}function xl(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){vs(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>xl(e,t,o||{},!0)}function _i(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let ts=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ts=()=>new Date().getTime());function kl(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Cl(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Rl(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Nl(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function je(e,t,n,r,s){if(!e)return!1;const o=Nl(e);if(!o)return!1;const i=an(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const c=Bt(o,i);let a=-1;return c<0?!1:(r&&(a=Bt(o,an(null,r))),c>-1&&a<0?!0:c<a)}function zy(e,t){return t.getId(e)!==-1}function Gs(e,t){return t.getId(e)===Xn}function Ml(e,t){if(jn(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Ml(e.parentNode,t):!0:!0}function No(e){return!!e.changedTouches}function qy(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Al(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Ol(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Mo(e){return!!e?.shadowRoot}class Gy{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ll(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Vy(e){let t=e,n;for(;n=Ll(t);)t=n;return t}function Yy(e){const t=e.ownerDocument;if(!t)return!1;const n=Vy(e);return t.contains(n)}function Dl(e){const t=e.ownerDocument;return t?t.contains(e)||Yy(e):!1}const Xa={};function yi(e){const t=Xa[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Xa[e]=r.bind(window)}function Xy(...e){return yi("requestAnimationFrame")(...e)}function vs(...e){return yi("setTimeout")(...e)}function Ky(...e){return yi("clearTimeout")(...e)}var V=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(V||{}),U=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(U||{}),Re=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Re||{}),dt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(dt||{}),sn=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(sn||{});function Si(e){try{return e.contentDocument}catch{}}function Jy(e){try{return e.contentWindow}catch{}}function Ka(e){return"__ln"in e}class Zy{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Ka(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Ka(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Ja=(e,t)=>`${e}@${t}`;class Qy{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new Zy,s=a=>{let u=a,d=Xn;for(;d===Xn;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=a=>{if(!a.parentNode||!Dl(a))return;const u=jn(a.parentNode)?this.mirror.getId(Ll(a)):this.mirror.getId(a.parentNode),d=s(a);if(u===-1||d===-1)return r.addNode(a);const l=cn(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Al(f,this.mirror)&&!je(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Ol(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Mo(a)&&this.shadowDomManager.addShadowRoot(a.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{je(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)Za(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||o(a);for(const a of this.addedSet)!Qa(this.droppedSet,a)&&!Za(this.removes,a,this.mirror)||Qa(this.movedSet,a)?o(a):this.droppedSet.add(a);let i=null;for(;r.length;){let a=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(a=i)}if(!a){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){a=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){a=d;break}}}}}}if(!a){for(;r.head;)r.removeNode(r.head.value);break}i=a.previous,r.removeNode(a.value),o(a.value)}const c={texts:this.texts.map(a=>({id:this.mirror.getId(a.node),value:a.value})).filter(a=>!n.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{const{attributes:u}=a;if(typeof u.style=="string"){const d=JSON.stringify(a.styleDiff),l=JSON.stringify(a._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:u}}).filter(a=>!n.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:t};!c.texts.length&&!c.attributes.length&&!c.removes.length&&!c.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(c))},this.processMutation=t=>{if(!Gs(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:bn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Nl(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=mi(n),c=n.tagName;s=Qr(n,c,i);const a=Ss({maskInputOptions:this.maskInputOptions,tagName:c,type:i}),u=bn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,a);s=Yn({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!Si(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Tl(n.tagName,r)&&(o.attributes[r]=wl(this.doc,Sn(n.tagName),Sn(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const c of Array.from(n.style)){const a=n.style.getPropertyValue(c),u=n.style.getPropertyPriority(c);a!==i.style.getPropertyValue(c)||u!==i.style.getPropertyPriority(c)?u===""?o.styleDiff[c]=a:o.styleDiff[c]=[a,u]:o._unchangedStyles[c]=[a,u]}for(const c of Array.from(i.style))n.style.getPropertyValue(c)===""&&(o.styleDiff[c]=!1)}break}case"childList":{if(je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=jn(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Gs(n,this.mirror)||!zy(n,this.mirror)||(this.addedSet.has(n)?(Ao(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Ml(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Ja(r,s)]?Ao(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:jn(t.target)&&Bn(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Gs(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Ja(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);je(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Mo(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ao(e,t){e.delete(t),t.childNodes.forEach(n=>Ao(e,n))}function Za(e,t,n){return e.length===0?!1:eS(e,t,n)}function eS(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function Qa(e,t){return e.size===0?!1:Pl(e,t)}function Pl(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Pl(e,n):!1}let Hn;function tS(e){Hn=e}function nS(){Hn=void 0}const Q=e=>Hn?(...n)=>{try{return e(...n)}catch(r){if(Hn&&Hn(r)===!0)return()=>{};throw r}}:e,un=[];function fr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Fl(e,t){const n=new Qy;un.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=window?.Zone?.__symbol__?.("MutationObserver");s&&window[s]&&(r=window[s]);const o=new r(Q(i=>{e.onMutation&&e.onMutation(i)===!1||n.processMutations.bind(n)(i)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function rS({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],c;const a=Kn(Q(l=>{const f=Date.now()-c;e(i.map(p=>(p.timeOffset-=f,p)),l),i=[],c=null}),o),u=Q(Kn(Q(l=>{const f=fr(l),{clientX:p,clientY:h}=No(l)?l.changedTouches[0]:l;c||(c=ts()),i.push({x:p,y:h,id:r.getId(f),timeOffset:ts()-c}),a(typeof DragEvent<"u"&&l instanceof DragEvent?U.Drag:l instanceof MouseEvent?U.MouseMove:U.TouchMove)}),s,{trailing:!1})),d=[Ne("mousemove",u,n),Ne("touchmove",u,n),Ne("drag",u,n)];return Q(()=>{d.forEach(l=>l())})}function sS({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const c=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,a=[];let u=null;const d=l=>f=>{const p=fr(f);if(je(p,r,s,o,!0))return;let h=null,m=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=dt.Mouse;break;case"touch":h=dt.Touch;break;case"pen":h=dt.Pen;break}h===dt.Touch?Re[l]===Re.MouseDown?m="TouchStart":Re[l]===Re.MouseUp&&(m="TouchEnd"):dt.Pen}else No(f)&&(h=dt.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===dt.Touch||m.startsWith("Mouse")&&h===dt.Mouse)&&(h=null)):Re[l]===Re.Click&&(h=u,u=null);const y=No(f)?f.changedTouches[0]:f;if(!y)return;const v=n.getId(p),{clientX:w,clientY:E}=y;Q(e)({type:Re[m],id:v,x:w,y:E,...h!==null&&{pointerType:h}})};return Object.keys(Re).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&c[l]!==!1).forEach(l=>{let f=Sn(l);const p=d(l);if(window.PointerEvent)switch(Re[l]){case Re.MouseDown:case Re.MouseUp:f=f.replace("mouse","pointer");break;case Re.TouchStart:case Re.TouchEnd:return}a.push(Ne(f,p,t))}),Q(()=>{a.forEach(l=>l())})}function $l({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const c=Q(Kn(Q(a=>{const u=fr(a);if(!u||je(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=kl(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Ne("scroll",c,t)}function oS({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=Q(Kn(Q(()=>{const o=Cl(),i=Rl();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return Ne("resize",s,t)}const iS=["INPUT","TEXTAREA","SELECT"],ec=new WeakMap;function aS({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:c,maskInputOptions:a,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:m}){function y(x){let M=fr(x);const k=x.isTrusted,A=M&&Co(M.tagName);if(A==="OPTION"&&(M=M.parentElement),!M||!A||iS.indexOf(A)<0||je(M,r,s,o,!0))return;const $=M;if($.classList.contains(i)||c&&$.matches(c))return;const F=mi(M);let q=Qr($,A,F),W=!1;const D=Ss({maskInputOptions:a,tagName:A,type:F}),N=bn(M,f,h,p,m,D);(F==="radio"||F==="checkbox")&&(W=M.checked),q=Yn({isMasked:N,element:M,value:q,maskInputFn:u}),v(M,l?{text:q,isChecked:W,userTriggered:k}:{text:q,isChecked:W});const O=M.name;F==="radio"&&O&&W&&t.querySelectorAll(`input[type="radio"][name="${O}"]`).forEach(P=>{if(P!==M){const G=Yn({isMasked:N,element:P,value:Qr(P,A,F),maskInputFn:u});v(P,l?{text:G,isChecked:!W,userTriggered:!1}:{text:G,isChecked:!W})}})}function v(x,M){const k=ec.get(x);if(!k||k.text!==M.text||k.isChecked!==M.isChecked){ec.set(x,M);const A=n.getId(x);Q(e)({...M,id:A})}}const E=(d.input==="last"?["change"]:["input","change"]).map(x=>Ne(x,Q(y),t)),T=t.defaultView;if(!T)return()=>{E.forEach(x=>x())};const g=T.Object.getOwnPropertyDescriptor(T.HTMLInputElement.prototype,"value"),S=[[T.HTMLInputElement.prototype,"value"],[T.HTMLInputElement.prototype,"checked"],[T.HTMLSelectElement.prototype,"value"],[T.HTMLTextAreaElement.prototype,"value"],[T.HTMLSelectElement.prototype,"selectedIndex"],[T.HTMLOptionElement.prototype,"selected"]];return g&&g.set&&E.push(...S.map(x=>xl(x[0],x[1],{set(){Q(y)({target:this,isTrusted:!1})}},!1,T))),Q(()=>{E.forEach(x=>x())})}function ns(e){const t=[];function n(r,s){if(Ir("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Ir("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Ir("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Ir("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function vt(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function cS({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:Q((d,l,f)=>{const[p,h]=f,{id:m,styleId:y}=vt(l,t,n.styleMirror);return(m&&m!==-1||y&&y!==-1)&&e({id:m,styleId:y,adds:[{rule:p,index:h}]}),d.apply(l,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Q((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:p}]}),d.apply(l,f)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:Q((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:p}),d.apply(l,f)})}));let c;r.CSSStyleSheet.prototype.replaceSync&&(c=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:Q((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:p}),d.apply(l,f)})}));const a={};xr("CSSGroupingRule")?a.CSSGroupingRule=r.CSSGroupingRule:(xr("CSSMediaRule")&&(a.CSSMediaRule=r.CSSMediaRule),xr("CSSConditionRule")&&(a.CSSConditionRule=r.CSSConditionRule),xr("CSSSupportsRule")&&(a.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(a).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:Q((f,p,h)=>{const[m,y]=h,{id:v,styleId:w}=vt(p.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||w&&w!==-1)&&e({id:v,styleId:w,adds:[{rule:m,index:[...ns(p),y||0]}]}),f.apply(p,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:Q((f,p,h)=>{const[m]=h,{id:y,styleId:v}=vt(p.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||v&&v!==-1)&&e({id:y,styleId:v,removes:[{index:[...ns(p),m]}]}),f.apply(p,h)})})}),Q(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),c&&(r.CSSStyleSheet.prototype.replaceSync=c),Object.entries(a).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function jl({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,o=s?.prototype?Object.getOwnPropertyDescriptor(s?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return o.get?.call(this)},set(i){const c=o.set?.call(this,i);if(r!==null&&r!==-1)try{t.adoptStyleSheets(i,r)}catch{}return c}}),Q(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function uS({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Q((c,a,u)=>{const[d,l,f]=u;if(n.has(d))return o.apply(a,[d,l,f]);const{id:p,styleId:h}=vt(a.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:l,priority:f},index:ns(a.parentRule)}),c.apply(a,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:Q((c,a,u)=>{const[d]=u;if(n.has(d))return i.apply(a,[d]);const{id:l,styleId:f}=vt(a.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:ns(a.parentRule)}),c.apply(a,u)})}),Q(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function lS({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const c=Q(u=>Kn(Q(d=>{const l=fr(d);if(!l||je(l,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:m}=l;e({type:u,id:s.getId(l),currentTime:f,volume:p,muted:h,playbackRate:m})}),o.media||500)),a=[Ne("play",c(sn.Play),i),Ne("pause",c(sn.Pause),i),Ne("seeked",c(sn.Seeked),i),Ne("volumechange",c(sn.VolumeChange),i),Ne("ratechange",c(sn.RateChange),i)];return Q(()=>{a.forEach(u=>u())})}function dS({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(a,u,d){const l=new o(a,u,d);return s.set(l,{family:a,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=_i(t.fonts,"add",function(c){return function(a){return vs(Q(()=>{const u=s.get(a);u&&(e(u),s.delete(a))}),0),c.apply(this,[a])}});return r.push(()=>{n.FontFace=o}),r.push(i),Q(()=>{r.forEach(c=>c())})}function fS(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let c=!0;const a=Q(()=>{const u=t.getSelection();if(!u||c&&u?.isCollapsed)return;c=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:m,endContainer:y,endOffset:v}=p;je(h,r,s,o,!0)||je(y,r,s,o,!0)||d.push({start:n.getId(h),startOffset:m,end:n.getId(y),endOffset:v})}i({ranges:d})});return a(),Ne("selectionchange",a)}function pS({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:_i(n.customElements,"define",function(s){return function(o,i,c){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,c])}})}function hS(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Fl(e,e.doc));const s=rS(e),o=sS(e),i=$l(e),c=oS(e,{win:n}),a=aS(e),u=lS(e);let d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=cS(e,{win:n}),l=jl(e,e.doc),f=uS(e,{win:n}),e.collectFonts&&(p=dS(e)));const h=fS(e),m=pS(e),y=[];for(const v of e.plugins)y.push(v.observer(v.callback,n,v.options));return Q(()=>{un.forEach(v=>v.reset()),r?.disconnect(),s(),o(),i(),c(),a(),u(),d(),l(),f(),p(),h(),m(),y.forEach(v=>v())})}function Ir(e){return typeof window[e]<"u"}function xr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Oo{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let c=o.get(n);return c||(c=this.generateIdFn(),o.set(n,c),i.set(c,n)),c}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class mS{constructor(){this.crossOriginIframeMirror=new Oo(gi),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class gS{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Oo(gi),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Oo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);const r=Si(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case V.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:V.IncrementalSnapshot,data:{source:U.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case V.Meta:case V.Load:case V.DomContentLoaded:return!1;case V.Plugin:return n;case V.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case V.IncrementalSnapshot:switch(n.data.source){case U.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case U.Drag:case U.TouchMove:case U.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case U.ViewportResize:return!1;case U.MediaInteraction:case U.MouseInteraction:case U.Scroll:case U.CanvasMutation:case U.Input:return this.replaceIds(n.data,t,["id"]),n;case U.StyleSheetRule:case U.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case U.Font:return n;case U.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case U.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==be.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class _S{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class yS{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Bn(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Fl({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push($l({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),vs(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(jl({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Si(t),r=Jy(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(_i(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&Dl(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SS=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var kr=0;kr<tc.length;kr++)SS[tc.charCodeAt(kr)]=kr;class nc{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class bS{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Gy,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(c,a)=>({rule:_l(c),index:a}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class vS{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,Xy(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let pe,rs;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Ye=vy();function ht(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:c="rr-ignore",ignoreSelector:a=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:y,slimDOMOptions:v,maskAttributeFn:w,maskInputFn:E,maskTextFn:T,maxCanvasSize:g=null,packFn:S,sampling:x={},dataURLOptions:M={},mousemoveWait:k,recordDOM:A=!0,recordCanvas:$=!1,recordCrossOriginIframes:F=!1,recordAfter:q=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:W=!1,collectFonts:D=!1,inlineImages:N=!1,plugins:O,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:G=new Set([]),errorHandler:ae,onMutation:ge,getCanvasManager:me}=e;tS(ae);const $e=F?window.parent===window:!0;let Ue=!1;if(!$e)try{window.parent.document&&(Ue=!1)}catch{Ue=!0}if($e&&!t)throw new Error("emit function is required");if(!$e&&!Ue)return()=>{};k!==void 0&&x.mousemove===void 0&&(x.mousemove=k),Ye.reset();const Pt=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},_e=v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:v==="all",headMetaDescKeywords:v==="all"}:v||{};qy();let ve,de=0;const Ee=K=>{for(const Ve of O||[])Ve.eventProcessor&&(K=Ve.eventProcessor(K));return S&&!Ue&&(K=S(K)),K};pe=(K,Ve)=>{const J=K;if(J.timestamp=ts(),un[0]?.isFrozen()&&J.type!==V.FullSnapshot&&!(J.type===V.IncrementalSnapshot&&J.data.source===U.Mutation)&&un.forEach(ke=>ke.unfreeze()),$e)t?.(Ee(J),Ve);else if(Ue){const ke={type:"rrweb",event:Ee(J),origin:window.location.origin,isCheckout:Ve};window.parent.postMessage(ke,"*")}if(J.type===V.FullSnapshot)ve=J,de=0;else if(J.type===V.IncrementalSnapshot){if(J.data.source===U.Mutation&&J.data.isAttachIframe)return;de++;const ke=r&&de>=r,oe=n&&ve&&J.timestamp-ve.timestamp>n;(ke||oe)&&lt(!0)}};const We=K=>{pe({type:V.IncrementalSnapshot,data:{source:U.Mutation,...K}})},tt=K=>pe({type:V.IncrementalSnapshot,data:{source:U.Scroll,...K}}),Ft=K=>pe({type:V.IncrementalSnapshot,data:{source:U.CanvasMutation,...K}}),bt=K=>pe({type:V.IncrementalSnapshot,data:{source:U.AdoptedStyleSheet,...K}}),we=new bS({mutationCb:We,adoptedStyleSheetCb:bt}),Ae=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new mS:new gS({mirror:Ye,mutationCb:We,stylesheetManager:we,recordCrossOriginIframes:F,wrappedEmit:pe});for(const K of O||[])K.getMirror&&K.getMirror({nodeMirror:Ye,crossOriginIframeMirror:Ae.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ae.crossOriginIframeStyleMirror});const ze=new vS,en=wS(me,{mirror:Ye,win:window,mutationCb:K=>pe({type:V.IncrementalSnapshot,data:{source:U.CanvasMutation,...K}}),recordCanvas:$,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:g,sampling:x.canvas,dataURLOptions:M,errorHandler:ae}),tn=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new _S:new yS({mutationCb:We,scrollCb:tt,bypassOptions:{onMutation:ge,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:Pt,dataURLOptions:M,maskAttributeFn:w,maskTextFn:T,maskInputFn:E,recordCanvas:$,inlineImages:N,sampling:x,slimDOMOptions:_e,iframeManager:Ae,stylesheetManager:we,canvasManager:en,keepIframeSrcFn:P,processedNodeManager:ze},mirror:Ye}),lt=(K=!1)=>{if(!A)return;pe({type:V.Meta,data:{href:window.location.href,width:Rl(),height:Cl()}},K),we.reset(),tn.init(),un.forEach(J=>J.lock());const Ve=Wy(document,{mirror:Ye,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:Pt,maskAttributeFn:w,maskInputFn:E,maskTextFn:T,slimDOM:_e,dataURLOptions:M,recordCanvas:$,inlineImages:N,onSerialize:J=>{Al(J,Ye)&&Ae.addIframe(J),Ol(J,Ye)&&we.trackLinkElement(J),Mo(J)&&tn.addShadowRoot(J.shadowRoot,document)},onIframeLoad:(J,ke)=>{Ae.attachIframe(J,ke),J.contentWindow&&en.addWindow(J.contentWindow),tn.observeAttachShadow(J)},onStylesheetLoad:(J,ke)=>{we.attachLinkElement(J,ke)},keepIframeSrcFn:P});if(!Ve)return console.warn("Failed to snapshot the document");pe({type:V.FullSnapshot,data:{node:Ve,initialOffset:kl(window)}}),un.forEach(J=>J.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&we.adoptStyleSheets(document.adoptedStyleSheets,Ye.getId(document))};rs=lt;try{const K=[],Ve=ke=>Q(hS)({onMutation:ge,mutationCb:We,mousemoveCb:(oe,Cs)=>pe({type:V.IncrementalSnapshot,data:{source:Cs,positions:oe}}),mouseInteractionCb:oe=>pe({type:V.IncrementalSnapshot,data:{source:U.MouseInteraction,...oe}}),scrollCb:tt,viewportResizeCb:oe=>pe({type:V.IncrementalSnapshot,data:{source:U.ViewportResize,...oe}}),inputCb:oe=>pe({type:V.IncrementalSnapshot,data:{source:U.Input,...oe}}),mediaInteractionCb:oe=>pe({type:V.IncrementalSnapshot,data:{source:U.MediaInteraction,...oe}}),styleSheetRuleCb:oe=>pe({type:V.IncrementalSnapshot,data:{source:U.StyleSheetRule,...oe}}),styleDeclarationCb:oe=>pe({type:V.IncrementalSnapshot,data:{source:U.StyleDeclaration,...oe}}),canvasMutationCb:Ft,fontCb:oe=>pe({type:V.IncrementalSnapshot,data:{source:U.Font,...oe}}),selectionCb:oe=>{pe({type:V.IncrementalSnapshot,data:{source:U.Selection,...oe}})},customElementCb:oe=>{pe({type:V.IncrementalSnapshot,data:{source:U.CustomElement,...oe}})},blockClass:s,ignoreClass:c,ignoreSelector:a,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Pt,inlineStylesheet:h,sampling:x,recordDOM:A,recordCanvas:$,inlineImages:N,userTriggeredOnInput:W,collectFonts:D,doc:ke,maskAttributeFn:w,maskInputFn:E,maskTextFn:T,keepIframeSrcFn:P,blockSelector:o,unblockSelector:i,slimDOMOptions:_e,dataURLOptions:M,mirror:Ye,iframeManager:Ae,stylesheetManager:we,shadowDomManager:tn,processedNodeManager:ze,canvasManager:en,ignoreCSSAttributes:G,plugins:O?.filter(oe=>oe.observer)?.map(oe=>({observer:oe.observer,options:oe.options,callback:Cs=>pe({type:V.Plugin,data:{plugin:oe.name,payload:Cs}})}))||[]},{});Ae.addLoadListener(ke=>{try{K.push(Ve(ke.contentDocument))}catch(oe){console.warn(oe)}});const J=()=>{lt(),K.push(Ve(document))};return document.readyState==="interactive"||document.readyState==="complete"?J():(K.push(Ne("DOMContentLoaded",()=>{pe({type:V.DomContentLoaded,data:{}}),q==="DOMContentLoaded"&&J()})),K.push(Ne("load",()=>{pe({type:V.Load,data:{}}),q==="load"&&J()},window))),()=>{K.forEach(ke=>ke()),ze.destroy(),rs=void 0,nS()}}catch(K){console.warn(K)}}function ES(e){if(!rs)throw new Error("please take full snapshot after start recording");rs(e)}ht.mirror=Ye;ht.takeFullSnapshot=ES;function wS(e,t){try{return e?e(t):new nc}catch{return console.warn("Unable to initialize CanvasManager"),new nc}}var rc;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(rc||(rc={}));const TS=3,IS=5;function bi(e){return e>9999999999?e:e*1e3}function Vs(e){return e>9999999999?e/1e3:e}function pr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:V.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Xe(t,10,1e3)}}),t.category==="console")))}const xS="button,a";function Bl(e){return e.closest(xS)||e}function Hl(e){const t=Ul(e);return!t||!(t instanceof Element)?t:Bl(t)}function Ul(e){return kS(e)?e.target:e}function kS(e){return typeof e=="object"&&!!e&&"target"in e}let Et;function CS(e){return Et||(Et=[],RS()),Et.push(e),()=>{const t=Et?Et.indexOf(e):-1;t>-1&&Et.splice(t,1)}}function RS(){Le(le,"open",function(e){return function(...t){if(Et)try{Et.forEach(n=>n())}catch{}return e.apply(le,t)}})}const NS=new Set([U.Mutation,U.StyleSheetRule,U.StyleDeclaration,U.AdoptedStyleSheet,U.CanvasMutation,U.Selection,U.MediaInteraction]);function MS(e,t,n){e.handleClick(t,n)}class AS{constructor(t,n,r=pr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=CS(()=>{this._lastMutation=sc()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(LS(n,this._ignoreSelector)||!DS(t))return;const r={timestamp:Vs(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Vs(t)}registerScroll(t=Date.now()){this._lastScroll=Vs(t)}registerClick(t){const n=Bl(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=sc();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:c}=t;if(o){const a=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=a<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.slowClickDetected",data:{...c.data,url:le.location.href,route:n.getCurrentRoute(),timeAfterClickMs:a,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const a={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.multiClick",data:{...c.data,url:le.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,a)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=dr(()=>this._checkClicks(),1e3)}}const OS=["A","BUTTON","INPUT"];function LS(e,t){return!!(!OS.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function DS(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function sc(){return Date.now()/1e3}function PS(e,t){try{if(!FS(t))return;const{source:n}=t.data;if(NS.has(n)&&e.registerMutation(t.timestamp),n===U.Scroll&&e.registerScroll(t.timestamp),$S(t)){const{type:r,id:s}=t.data,o=ht.mirror.getNode(s);o instanceof HTMLElement&&r===Re.Click&&e.registerClick(o)}}catch{}}function FS(e){return e.type===TS}function $S(e){return e.data.source===U.MouseInteraction}function st(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var vi=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(vi||{});const jS=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function BS(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(jS.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const HS=e=>t=>{if(!e.isEnabled())return;const n=US(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s?.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&MS(e.clickDetector,n,Hl(t.event)),pr(e,n)};function Wl(e,t){const n=ht.mirror.getId(e),r=n&&ht.mirror.getNode(n),s=r&&ht.mirror.getMeta(r),o=s&&zS(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===vi.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:BS(o.attributes)}}:{}}}function US(e){const{target:t,message:n}=WS(e);return st({category:`ui.${e.name}`,...Wl(t,n)})}function WS(e){const t=e.name==="click";let n,r=null;try{r=t?Hl(e.event):Ul(e.event),n=Ge(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function zS(e){return e.type===vi.Element}function qS(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=GS(t);n&&pr(e,n)}function GS(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||VS(i)||!o)return null;const c=t||r||s,a=o.length===1;if(!c&&a)return null;const u=Ge(i,{maxStringLength:200})||"<unknown>",d=Wl(i,u);return st({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function VS(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const YS={resource:QS,paint:JS,navigation:ZS};function Ys(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function XS(e){return e.map(KS).filter(Boolean)}function KS(e){const t=YS[e.entryType];return t?t(e):null}function vn(e){return((Fe()||le.performance.timeOrigin)+e)/1e3}function JS(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=vn(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function ZS(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:c,domContentLoadedEventEnd:a,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:h,type:m}=e;return s===0?null:{type:`${t}.${m}`,start:vn(p),end:vn(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:c,domContentLoadedEventEnd:a,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:f}}}function QS(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:c,responseStatus:a,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:vn(o),end:vn(s),name:r,data:{size:u,statusCode:a,decodedBodySize:i,encodedBodySize:c}}}function eb(e){const t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return Ei(e,"largest-contentful-paint",n)}function tb(e){return e.sources!==void 0}function nb(e){const t=[],n=[];for(const r of e.entries)if(tb(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=ht.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return Ei(e,"cumulative-layout-shift",n,t)}function rb(e){const t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return Ei(e,"interaction-to-next-paint",n)}function Ei(e,t,n,r){const s=e.value,o=e.rating,i=vn(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(c=>ht.mirror.getId(c)):void 0,attributions:r}}}function sb(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Yt(s,n))}),r.push(li(Ys(eb,e)),ui(Ys(nb,e)),rl(Ys(rb,e))),()=>{r.forEach(s=>s())}}const j=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ob='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function ib(){const e=new Blob([ob]);return URL.createObjectURL(e)}const oc=["log","warn","error"],Fr="[Replay] ";function Xs(e,t="info"){Mt({category:"console",data:{logger:"replay"},level:t,message:`${Fr}${e}`},{level:t})}function ab(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return j?(oc.forEach(r=>{n[r]=(...s)=>{I[r](Fr,...s),t&&Xs(s.join(""),ju(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),I.error(Fr,r),e?ei(r):t&&Xs(r,"error")},n.infoTick=(...r)=>{I.log(Fr,...r),t&&setTimeout(()=>Xs(r[0]),0)}):oc.forEach(r=>{n[r]=()=>{}}),n}const B=ab();class wi extends Error{constructor(){super(`Event buffer exceeded maximum size of ${hi}.`)}}class zl{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>hi)throw new wi;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?bi(t):null}}class cb{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){j&&B.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:c})=>{const a=c;if(a.method===t&&a.id===r){if(this._worker.removeEventListener("message",i),!a.success){j&&B.error("Error in compression worker: ",a.response),o(new Error("Error in compression worker"));return}s(a.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class ub{constructor(t){this._worker=new cb(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=bi(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>hi?Promise.reject(new wi):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{j&&B.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class lb{constructor(t){this._fallback=new zl,this._compression=new ub(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){j&&B.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){j&&B.exception(o,"Failed to add events when switching buffers.")}}}function db({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=fb(t);if(n)return n}return j&&B.log("Using simple buffer"),new zl}function fb(e){try{const t=e||pb();if(!t)return;j&&B.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new lb(n)}catch(t){j&&B.exception(t,"Failed to create compression worker")}}function pb(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?ib():""}function Ti(){try{return"sessionStorage"in le&&!!le.sessionStorage}catch{return!1}}function hb(e){mb(),e.session=void 0}function mb(){if(Ti())try{le.sessionStorage.removeItem(fi)}catch{}}function ql(e){return e===void 0?!1:Math.random()<e}function Ii(e){if(Ti())try{le.sessionStorage.setItem(fi,JSON.stringify(e))}catch{}}function Gl(e){const t=Date.now(),n=e.id||Be(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,c=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:c}}function gb(e,t){return ql(e)?"session":t?"buffer":!1}function ic({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=gb(e,t),o=Gl({sampled:s,previousSessionId:r});return n&&Ii(o),o}function _b(){if(!Ti())return null;try{const e=le.sessionStorage.getItem(fi);if(!e)return null;const t=JSON.parse(e);return j&&B.infoTick("Loading existing session"),Gl(t)}catch{return null}}function Lo(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Vl(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Lo(e.started,t,r)||Lo(e.lastActivity,n,r)}function Yl(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Vl(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Ks({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&_b();return s?Yl(s,{sessionIdleExpire:e,maxReplayDuration:t})?(j&&B.infoTick("Session in sessionStorage is expired, creating new one..."),ic(r,{previousSessionId:s.id})):s:(j&&B.infoTick("Creating new session"),ic(r,{previousSessionId:n}))}function yb(e){return e.type===V.Custom}function xi(e,t,n){return Kl(e,t)?(Xl(e,t,n),!0):!1}function Sb(e,t,n){return Kl(e,t)?Xl(e,t,n):Promise.resolve(null)}async function Xl(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),i=bb(t,o.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(o){const i=o&&o instanceof wi,c=i?"addEventSizeExceeded":"addEvent";if(i&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:c});const a=Y();a&&a.recordDroppedEvent("internal_sdk_error","replay")}}function Kl(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=bi(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(j&&B.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function bb(e,t){try{if(typeof t=="function"&&yb(e))return t(e)}catch(n){return j&&B.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function ki(e){return!e.type}function Do(e){return e.type==="transaction"}function vb(e){return e.type==="replay_event"}function ac(e){return e.type==="feedback"}function Eb(e){return(t,n)=>{if(!e.isEnabled()||!ki(t)&&!Do(t))return;const r=n?.statusCode;if(!(!r||r<200||r>=300)){if(Do(t)){wb(e,t);return}Tb(e,t)}}}function wb(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Tb(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||dr(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function Ib(e){return t=>{!e.isEnabled()||!ki(t)||xb(e,t)}}function xb(e,t){const n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=st({category:"replay.hydrate-error",data:{url:wn()}});pr(e,r)}}function kb(e){const t=Y();t&&t.on("beforeAddBreadcrumb",n=>Cb(e,n))}function Cb(e,t){if(!e.isEnabled()||!Jl(t))return;const n=Rb(t);n&&pr(e,n)}function Rb(e){return!Jl(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?Nb(e):st(e)}function Nb(e){const t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return st(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Tr?(n=!0,`${s.slice(0,Tr)}…`):s;if(typeof s=="object")try{const o=Xe(s,7);return JSON.stringify(o).length>Tr?(n=!0,`${JSON.stringify(o,null,2).slice(0,Tr)}…`):o}catch{}return s});return st({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Jl(e){return!!e.category}function Mb(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function Zl(){const e=se().getPropagationContext().dsc;e&&delete e.replay_id;const t=Me();if(t){const n=yt(t);delete n.replay_id}}function Ab(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:V.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Ob(e,t){return e.recordingMode!=="buffer"||t.message===pi||!t.exception||t.type?!1:ql(e.getOptions().errorSampleRate)}function Lb(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:vb(t)?(delete t.breadcrumbs,t):!ki(t)&&!Do(t)&&!ac(t)?t:e.checkAndHandleExpiredSession()?ac(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),Ab(e,t),t):Mb(t,n)&&!e.getOptions()._experiments.captureExceptions?(j&&B.log("Ignoring error from rrweb internals",t),null):((Ob(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(Zl(),t),{id:"Replay"})}function Es(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const c=e.throttledAddEvent({type:V.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof c=="string"?Promise.resolve(null):c})}function Db(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Pb(e){return t=>{if(!e.isEnabled())return;const n=Db(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Es(e,[n]),!1)))}}function Fb(e,t){return j&&e.getOptions()._experiments.traceInternals?!1:Mh(t,Y())}function Ql(e,t){e.isEnabled()&&t!==null&&(Fb(e,t.name)||e.addUpdate(()=>(Es(e,[t]),!0)))}function ws(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=fl(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function ed(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ss(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function td(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:c,response:a}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:o,statusCode:i,request:c,response:a}}}function Jn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function It(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=$b(n);return r.body=s,o?.length&&(r._meta={warnings:o}),r}function Po(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function $b(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Ha,n=jb(e);if(t){const r=e.slice(0,Ha);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function jb(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function os(e,t){const n=Bb(e);return pt(n,t)}function Bb(e,t=le.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(le.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function Hb(e,t,n){try{const r=await Wb(e,t,n),s=td("resource.fetch",r);Ql(n.replay,s)}catch(r){j&&B.exception(r,"Failed to capture fetch breadcrumb")}}function Ub(e,t){const{input:n,response:r}=t,s=n?hl(n):void 0,o=ws(s),i=r?ed(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function Wb(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:c,status_code:a=0,request_body_size:u,response_body_size:d}=e.data,l=os(i,n.networkDetailAllowUrls)&&!os(i,n.networkDetailDenyUrls),f=l?zb(n,t.input,u):Jn(u),p=await qb(l,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:c,statusCode:a,request:f,response:p}}function zb({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?Yb(n,t):{};if(!e)return It(s,r,void 0);const o=hl(n),[i,c]=pl(o,B),a=It(s,r,i);return c?ss(a,c):a}async function qb(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Jn(s);const o=r?nd(r.headers,n):{};if(!r||!t&&s!==void 0)return It(o,s,void 0);const[i,c]=await Vb(r),a=Gb(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return c?ss(a,c):a}function Gb(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e?.length&&n===void 0?ws(e):n;return r?t?It(s,o,e):It(s,o,void 0):Jn(o)}catch(o){return j&&B.exception(o,"Failed to serialize response body"),It(s,n,void 0)}}async function Vb(e){const t=Xb(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await Kb(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(j&&B.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(j&&B.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function nd(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function Yb(e,t){return e.length===1&&typeof e[0]!="string"?cc(e[0],t):e.length===2?cc(e[1],t):{}}function cc(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?nd(n,t):Array.isArray(n)?{}:Po(n,t):{}}function Xb(e){try{return e.clone()}catch(t){j&&B.exception(t,"Failed to clone response body")}}function Kb(e){return new Promise((t,n)=>{const r=dr(()=>n(new Error("Timeout while trying to read response body")),500);Jb(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function Jb(e){return await e.text()}async function Zb(e,t,n){try{const r=ev(e,t,n),s=td("resource.xhr",r);Ql(n.replay,s)}catch(r){j&&B.exception(r,"Failed to capture xhr breadcrumb")}}function Qb(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=ws(r),o=n.getResponseHeader("content-length")?ed(n.getResponseHeader("content-length")):sv(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function ev(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:c}=t,{url:a,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!a)return null;if(!c||!os(a,n.networkDetailAllowUrls)||os(a,n.networkDetailDenyUrls)){const S=Jn(l),x=Jn(f);return{startTimestamp:s,endTimestamp:o,url:a,method:u,statusCode:d,request:S,response:x}}const p=c[jt],h=p?Po(p.request_headers,n.networkRequestHeaders):{},m=Po(tv(c),n.networkResponseHeaders),[y,v]=n.networkCaptureBodies?pl(i,B):[void 0],[w,E]=n.networkCaptureBodies?nv(c):[void 0],T=It(h,l,y),g=It(m,f,w);return{startTimestamp:s,endTimestamp:o,url:a,method:u,statusCode:d,request:v?ss(T,v):T,response:E?ss(g,E):g}}function tv(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function nv(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return rv(e.response,e.responseType)}catch(n){t.push(n)}return j&&B.warn("Failed to get xhr response body",...t),[void 0]}function rv(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return j&&B.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return j&&B.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function sv(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ws(n)}catch{return}}function ov(e){const t=Y();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),c={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(a,u)=>iv(c,a,u))}catch{}}function iv(e,t,n){if(t.data)try{av(t)&&uv(n)&&(Qb(t,n),Zb(t,n,e)),cv(t)&&lv(n)&&(Ub(t,n),Hb(t,n,e))}catch(r){j&&B.exception(r,"Error when enriching network breadcrumb")}}function av(e){return e.category==="xhr"}function cv(e){return e.category==="fetch"}function uv(e){return e?.xhr}function lv(e){return e?.response}function dv(e){const t=Y();ul(HS(e)),ys(Pb(e)),kb(e),ov(e);const n=Lb(e);oh(n),t&&(t.on("beforeSendEvent",Ib(e)),t.on("afterSendEvent",Eb(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{const o=e.getSessionId();s?.includeReplay&&e.isEnabled()&&o&&r.contexts?.feedback&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=o)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function fv(e){try{return Promise.all(Es(e,[pv(le.performance.memory)]))}catch{return[]}}function pv(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function hv(e,t,n){return Ph(e,t,{...n,setTimeoutImpl:dr})}const Cr=ne.navigator;function mv(){return/iPhone|iPad|iPod/i.test(Cr?.userAgent??"")||/Macintosh/i.test(Cr?.userAgent??"")&&Cr?.maxTouchPoints&&Cr?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function gv(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){j&&B.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&PS(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!xi(e,n,s))return!0;if(!s)return!1;const o=e.session;if(yv(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(j&&B.log(`Updating session start time to earliest event in buffer to ${new Date(i)}`),o.started=i,e.getOptions().stickySession&&Ii(o))}return o?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function _v(e){const t=e.getOptions();return{type:V.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function yv(e,t){!t||!e.session||e.session.segmentId!==0||xi(e,_v(e),!1)}function Sv(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function bv(e,t,n,r){return Qt(gu(e,Jo(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function vv({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function Ev({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await Eu(e.getOptions(),r,o,t,e,et());if(!i)return null;e.emit("postprocessEvent",i,o),i.platform=i.platform||"javascript";const c=e.getSdkMetadata(),{name:a,version:u,settings:d}=c?.sdk||{};return i.sdk={...i.sdk,name:a||"sentry.javascript.unknown",version:u||"0.0.0",settings:d},i}async function wv({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=vv({recordingData:e,headers:{segment_id:n}}),{urls:c,errorIds:a,traceIds:u,initialTimestamp:d}=r,l=Y(),f=se(),p=l?.getTransport(),h=l?.getDsn();if(!l||!p||!h||!o.sampled)return St({});const m={type:ey,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:a,trace_ids:u,urls:c,replay_id:t,segment_id:n,replay_type:o.sampled},y=await Ev({scope:f,client:l,replayId:t,event:m});if(!y)return l.recordDroppedEvent("event_processor","replay"),j&&B.log("An event processor returned `null`, will not send event."),St({});delete y.sdkProcessingMetadata;const v=bv(y,i,h,l.getOptions().tunnel);let w;try{w=await p.send(v)}catch(T){const g=new Error(pi);try{g.cause=T}catch{}throw g}if(typeof w.statusCode=="number"&&(w.statusCode<200||w.statusCode>=300))throw new rd(w.statusCode);const E=Pu({},w);if(Du(E,"replay"))throw new Ci(E);return w}class rd extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Ci extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function sd(e,t={count:0,interval:iy}){const{recordingData:n,onError:r}=e;if(n.length)try{return await wv(e),!0}catch(s){if(s instanceof rd||s instanceof Ci)throw s;if(Tu("Replays",{_retryCount:t.count}),r&&r(s),t.count>=ay){const o=new Error(`${pi} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{dr(async()=>{try{await sd(e,t),o(!0)}catch(c){i(c)}},t.interval)})}}const od="__THROTTLED",Tv="__SKIPPED";function Iv(e,t,n){const r=new Map,s=c=>{const a=c-n;r.forEach((u,d)=>{d<a&&r.delete(d)})},o=()=>[...r.values()].reduce((c,a)=>c+a,0);let i=!1;return(...c)=>{const a=Math.floor(Date.now()/1e3);if(s(a),o()>=t){const d=i;return i=!0,d?Tv:od}i=!1;const u=r.get(a)||0;return r.set(a,u+1),e(...c)}}class xv{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:ty,sessionIdleExpire:ny},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=hv(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Iv((i,c)=>Sb(this,i,c),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(cy,r),timeout:r,scrollTimeout:uy,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new AS(this,o)),j){const i=t._experiments;B.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{le.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const i=st({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{const i=st({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{qS(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){j&&B.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){j&&B.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",j&&B.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){j&&B.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){j&&B.log("Buffering is in progress, call `flush()` to save the replay");return}j&&B.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Ks({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){j&&B.log("Buffering is in progress, call `flush()` to save the replay");return}j&&B.infoTick("Starting replay in buffer mode");const t=Ks({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=ht({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:oy}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:gv(this),...mv(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{j&&B.log(`Stopping Replay${n?` triggered by ${n}`:""}`),Zl(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,hb(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),j&&B.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),j&&B.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();j&&B.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Lo(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${le.location.pathname}${le.location.hash}${le.location.search}`,n=`${le.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===od){const s=st({category:"replay.throttled"});this.addUpdate(()=>!xi(this,{type:IS,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||Me(),n=t&&xe(t),s=(n&&te(n).data||{})[Qe];if(!(!n||!s||!["route","custom"].includes(s)))return te(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=db({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Ks({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Yl(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{le.document.addEventListener("visibilitychange",this._handleVisibilityChange),le.addEventListener("blur",this._handleWindowBlur),le.addEventListener("focus",this._handleWindowFocus),le.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(dv(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=sb(this)}_removeListeners(){try{le.document.removeEventListener("visibilitychange",this._handleVisibilityChange),le.removeEventListener("blur",this._handleWindowBlur),le.removeEventListener("focus",this._handleWindowFocus),le.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||Vl(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){j&&B.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:V.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=XS(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Es(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){j&&B.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await fv(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await sd({replayId:t,recordingData:o,segmentId:s,eventContext:r,session:this.session,timestamp:n,onError:i=>this.handleException(i)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=Y();if(r){const s=n instanceof Ci?"ratelimit_backoff":"send_error";r.recordDroppedEvent(s,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){j&&B.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){j&&B.log(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const c=this.eventBuffer;c&&this.session.segmentId===0&&!c.hasCheckout&&j&&B.log("Flushing initial segment without checkout.");const a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,a&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ii(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n?.length&&t.some(c=>{const a=Sv(c.target),u=n.join(",");return a?.matches(u)}))return!1;const r=t.length,s=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=s&&r>s;if(r>o||i){const c=st({category:"replay.mutations",data:{count:r,limit:i}});this._createCustomBreadcrumb(c)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Ln(e,t){return[...e,...t].join(",")}function kv({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],i=Ln(e,[".sentry-mask","[data-sentry-mask]"]),c=Ln(t,[]);return{maskTextSelector:i,unmaskTextSelector:c,blockSelector:Ln(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:Ln(r,[]),ignoreSelector:Ln(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Cv({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const uc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Rv=["content-length","content-type","accept"];let lc=!1;const Nv=(e=>new Mv(e));class Mv{constructor({flushMinDelay:t=ry,flushMaxDelay:n=sy,minReplayDuration:r=ly,maxReplayDuration:s=Ua,stickySession:o=!0,useCompression:i=!0,workerUrl:c,_experiments:a={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:v=[],networkCaptureBodies:w=!0,networkRequestHeaders:E=[],networkResponseHeaders:T=[],mask:g=[],maskAttributes:S=["title","placeholder","aria-label"],unmask:x=[],block:M=[],unblock:k=[],ignore:A=[],maskFn:$,beforeAddRecordingEvent:F,beforeErrorSampling:q,onError:W}={}){this.name="Replay";const D=kv({mask:g,unmask:x,block:M,unblock:k,ignore:A});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:$,maskInputFn:$,maskAttributeFn:(N,O,P)=>Cv({maskAttributes:S,maskAllText:u,privacyOptions:D,key:N,value:O,el:P}),...D,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:N=>{try{N.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!a.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,dy),maxReplayDuration:Math.min(s,Ua),stickySession:o,useCompression:i,workerUrl:c,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:m,networkDetailAllowUrls:y,networkDetailDenyUrls:v,networkCaptureBodies:w,networkRequestHeaders:dc(E),networkResponseHeaders:dc(T),beforeAddRecordingEvent:F,beforeErrorSampling:q,onError:W,_experiments:a},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${uc}`:uc),this._isInitialized&&Ma())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return lc}set _isInitialized(t){lc=t}afterAllSetup(t){!Ma()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=Av(this._initialOptions,t);this._replay=new xv({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function Av(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=Vt(n.replaysSessionSampleRate),o=Vt(n.replaysOnErrorSampleRate);return s==null&&o==null&&Kt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function dc(e){return[...Rv,...e.map(t=>t.toLowerCase())]}function nt(e=0){return((Fe()||performance.timeOrigin)+e)/1e3}function Ov(e){const t=[];if(e.nextHopProtocol!=null){const{name:n,version:r}=il(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return Fe()?[...t,["http.request.redirect_start",nt(e.redirectStart)],["http.request.fetch_start",nt(e.fetchStart)],["http.request.domain_lookup_start",nt(e.domainLookupStart)],["http.request.domain_lookup_end",nt(e.domainLookupEnd)],["http.request.connect_start",nt(e.connectStart)],["http.request.secure_connection_start",nt(e.secureConnectionStart)],["http.request.connection_end",nt(e.connectEnd)],["http.request.request_start",nt(e.requestStart)],["http.request.response_start",nt(e.responseStart)],["http.request.response_end",nt(e.responseEnd)]]:t}const fc=new WeakMap,Js=new Map,id={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Lv(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i,tracePropagationTargets:c,onRequestSpanStart:a}={...id,...t},u=typeof o=="function"?o:f=>!0,d=f=>Pv(f,c),l={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(p=>{if(p.op==="http.client"){const h=Js.get(p.span_id);h&&(p.timestamp=h/1e3,Js.delete(p.span_id))}}),f)),s&&Sm(f=>{if(f.response){const p=fc.get(f.response);p&&f.endTimestamp&&Js.set(p,f.endTimestamp)}}),qu(f=>{const p=lm(f,u,d,l);if(f.response&&f.fetchData.__span&&fc.set(f.response,f.fetchData.__span),p){const h=ad(f.fetchData.url),m=h?zt(h).host:void 0;p.setAttributes({"http.url":h,"server.address":m}),i&&pc(p),a?.(p,{headers:f.headers})}})),r&&dl(f=>{const p=Fv(f,u,d,l);if(p){i&&pc(p);let h;try{h=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}a?.(p,{headers:h})}})}function Dv(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function pc(e){const{url:t}=te(e).data;if(!t||typeof t!="string")return;const n=Yt("resource",({entries:r})=>{r.forEach(s=>{Dv(s)&&s.name.endsWith(t)&&(Ov(s).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function Pv(e,t){const n=wn();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?pt(r.toString(),t)||o&&pt(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?pt(e,t):r}}function Fv(e,t,n,r){const s=e.xhr,o=s?.[jt];if(!s||s.__sentry_own_request__||!o)return;const{url:i,method:c}=o,a=Ct()&&t(i);if(e.endTimestamp&&a){const m=s.__sentry_xhr_span_id__;if(!m)return;const y=r[m];y&&o.status_code!==void 0&&(eu(y,o.status_code),y.end(),delete r[m]);return}const u=ad(i),d=zt(u||i),l=um(i),f=!!Me(),p=a&&f?Cn({name:`${c} ${l}`,attributes:{url:i,type:"xhr","http.method":c,"http.url":u,"server.address":d?.host,[Se]:"auto.http.browser",[_t]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new Rt;s.__sentry_xhr_span_id__=p.spanContext().spanId,r[s.__sentry_xhr_span_id__]=p,n(i)&&$v(s,Ct()&&f?p:void 0);const h=Y();return h&&h.emit("beforeOutgoingRequestSpan",p,e),p}function $v(e,t){const{"sentry-trace":n,baggage:r}=$u({span:t});n&&jv(e,n,r)}function jv(e,t,n){const r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){const s=r?.baggage;(!s||!Bv(s))&&e.setRequestHeader("baggage",n)}}catch{}}function Bv(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function ad(e){try{return new URL(e,X.location.origin).href}catch{return}}function Hv(){X.document?X.document.addEventListener("visibilitychange",()=>{const e=Me();if(!e)return;const t=xe(e);if(X.document.hidden&&t){const n="cancelled",{op:r,status:s}=te(t);Pe&&I.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:ye,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Pe&&I.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Uv=3600,cd="sentry_previous_trace",Wv="sentry.previous_trace";function zv(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?Vv():void 0;e.on("spanStart",i=>{if(xe(i)!==i)return;const c=se().getPropagationContext();s=qv(s,i,c),r&&Gv(s)});let o=!0;n&&e.on("beforeSampling",i=>{if(!s)return;const c=se(),a=c.getPropagationContext();if(o&&a.parentSpanId){o=!1;return}c.setPropagationContext({...a,dsc:{...a.dsc,sample_rate:String(s.sampleRate),sampled:String(Fo(s.spanContext))},sampleRand:s.sampleRand}),i.parentSampled=Fo(s.spanContext),i.parentSampleRate=s.sampleRate,i.spanAttributes={...i.spanAttributes,[Zc]:s.sampleRate}})}function qv(e,t,n){const r=te(t);function s(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[Go])}catch{return 0}}const o={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return o;const i=e.spanContext;return i.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=Uv&&(Pe&&I.log(`Adding previous_trace ${i} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:i,attributes:{[Df]:"previous_trace"}}),t.setAttribute(Wv,`${i.traceId}-${i.spanId}-${Fo(i)?1:0}`)),o)}function Gv(e){try{X.sessionStorage.setItem(cd,JSON.stringify(e))}catch(t){Pe&&I.warn("Could not store previous trace in sessionStorage",t)}}function Vv(){try{const e=X.sessionStorage?.getItem(cd);return JSON.parse(e)}catch{return}}function Fo(e){return e.traceFlags===1}const Yv="BrowserTracing",Xv={...Or,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...id},Kv=((e={})=>{const t={name:void 0,source:void 0},n=X.document,{enableInp:r,enableElementTiming:s,enableLongTask:o,enableLongAnimationFrame:i,_experiments:{enableInteractions:c,enableStandaloneClsSpans:a,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:f,childSpanTimeout:p,markBackgroundSpan:h,traceFetch:m,traceXHR:y,trackFetchStreamPerformance:v,shouldCreateSpanForRequest:w,enableHTTPTimings:E,ignoreResourceSpans:T,ignorePerformanceApiSpans:g,instrumentPageLoad:S,instrumentNavigation:x,detectRedirects:M,linkPreviousTrace:k,consistentTraceSampling:A,onRequestSpanStart:$}={...Xv,...e};let F,q;function W(D,N,O=!0){const P=N.op==="pageload",G=d?d(N):N,ae=G.attributes||{};if(N.name!==G.name&&(ae[Qe]="custom",G.attributes=ae),!O){const $e=Jt();Cn({...G,startTime:$e}).end($e);return}t.name=G.name,t.source=ae[Qe];const ge=vu(G,{idleTimeout:l,finalTimeout:f,childSpanTimeout:p,disableAutoFinish:P,beforeSpanEnd:$e=>{F?.(),Cg($e,{recordClsOnPageloadSpan:!a,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:T,ignorePerformanceApiSpans:g}),mc(D,void 0);const Ue=se(),Pt=Ue.getPropagationContext();Ue.setPropagationContext({...Pt,traceId:ge.spanContext().traceId,sampled:Zt(ge),dsc:yt($e)})}});mc(D,ge);function me(){n&&["interactive","complete"].includes(n.readyState)&&D.emit("idleSpanEnableAutoFinish",ge)}P&&n&&(n.addEventListener("readystatechange",()=>{me()}),me())}return{name:Yv,setup(D){if(ip(),F=vg({recordClsStandaloneSpans:a||!1,recordLcpStandaloneSpans:u||!1,client:D}),r&&Kg(),s&&$g(),i&&ne.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?wg():o&&Eg(),c&&Tg(),M&&n){const O=()=>{q=Te()};addEventListener("click",O,{capture:!0}),addEventListener("keydown",O,{capture:!0,passive:!0})}function N(){const O=Zn(D);O&&!te(O).timestamp&&(Pe&&I.log(`[Tracing] Finishing current active span with op: ${te(O).op}`),O.setAttribute(Wr,"cancelled"),O.end())}D.on("startNavigationSpan",(O,P)=>{if(Y()!==D)return;if(P?.isRedirect){Pe&&I.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),W(D,{op:"navigation.redirect",...O},!1);return}q=void 0,N(),et().setPropagationContext({traceId:kt(),sampleRand:Math.random()});const G=se();G.setPropagationContext({traceId:kt(),sampleRand:Math.random()}),G.setSDKProcessingMetadata({normalizedRequest:void 0}),W(D,{op:"navigation",...O})}),D.on("startPageLoadSpan",(O,P={})=>{if(Y()!==D)return;N();const G=P.sentryTrace||hc("sentry-trace"),ae=P.baggage||hc("baggage"),ge=Zf(G,ae),me=se();me.setPropagationContext(ge),me.setSDKProcessingMetadata({normalizedRequest:ti()}),W(D,{op:"pageload",...O})})},afterAllSetup(D){let N=wn();if(k!=="off"&&zv(D,{linkPreviousTrace:k,consistentTraceSampling:A}),X.location){if(S){const O=Fe();Jv(D,{name:X.location.pathname,startTime:O?O/1e3:void 0,attributes:{[Qe]:"url",[Se]:"auto.pageload.browser"}})}x&&ys(({to:O,from:P})=>{if(P===void 0&&N?.indexOf(O)!==-1){N=void 0;return}N=void 0;const G=Wu(O),ae=Zn(D),ge=ae&&M&&eE(ae,q);Zv(D,{name:G?.pathname||X.location.pathname,attributes:{[Qe]:"url",[Se]:"auto.navigation.browser"}},{url:O,isRedirect:ge})})}h&&Hv(),c&&Qv(D,l,f,p,t),r&&Qg(),Lv(D,{traceFetch:m,traceXHR:y,trackFetchStreamPerformance:v,tracePropagationTargets:D.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:w,enableHTTPTimings:E,onRequestSpanStart:$})}}});function Jv(e,t,n){e.emit("startPageLoadSpan",t,n),se().setTransactionName(t.name);const r=Zn(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Zv(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const o=se();return o.setTransactionName(t.name),r&&!s&&o.setSDKProcessingMetadata({normalizedRequest:{...ti(),url:r}}),Zn(e)}function hc(e){return X.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function Qv(e,t,n,r,s){const o=X.document;let i;const c=()=>{const a="ui.action.click",u=Zn(e);if(u){const d=te(u).op;if(["navigation","pageload"].includes(d)){Pe&&I.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(Wr,"interactionInterrupted"),i.end(),i=void 0),!s.name){Pe&&I.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}i=vu({name:s.name,op:a,attributes:{[Qe]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",c,{capture:!0})}const ud="_sentry_idleSpan";function Zn(e){return e[ud]}function mc(e,t){He(e,ud,t)}const gc=1.5;function eE(e,t){const n=te(e),r=Jt(),s=n.start_timestamp;return!(r-s>gc||t&&r-t<=gc)}function tE(e){const t={...e};return Fu(t,"react"),Tu("react",{version:De.version}),Q_(t)}function nE(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function rE(e,t){const n=new WeakSet;function r(s,o){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,o);s.cause=o}}r(e,t)}function sE(e,{componentStack:t},n){if(nE(De.version)&&fs(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,rE(e,r)}return In(r=>(r.setContext("react",{componentStack:t}),ei(e,n)))}var Zs={exports:{}},re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c;function oE(){if(_c)return re;_c=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,a=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,l=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;function E(g){if(typeof g=="object"&&g!==null){var S=g.$$typeof;switch(S){case t:switch(g=g.type,g){case a:case u:case r:case o:case s:case l:return g;default:switch(g=g&&g.$$typeof,g){case c:case d:case h:case p:case i:return g;default:return S}}case n:return S}}}function T(g){return E(g)===u}return re.AsyncMode=a,re.ConcurrentMode=u,re.ContextConsumer=c,re.ContextProvider=i,re.Element=t,re.ForwardRef=d,re.Fragment=r,re.Lazy=h,re.Memo=p,re.Portal=n,re.Profiler=o,re.StrictMode=s,re.Suspense=l,re.isAsyncMode=function(g){return T(g)||E(g)===a},re.isConcurrentMode=T,re.isContextConsumer=function(g){return E(g)===c},re.isContextProvider=function(g){return E(g)===i},re.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},re.isForwardRef=function(g){return E(g)===d},re.isFragment=function(g){return E(g)===r},re.isLazy=function(g){return E(g)===h},re.isMemo=function(g){return E(g)===p},re.isPortal=function(g){return E(g)===n},re.isProfiler=function(g){return E(g)===o},re.isStrictMode=function(g){return E(g)===s},re.isSuspense=function(g){return E(g)===l},re.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===u||g===o||g===s||g===l||g===f||typeof g=="object"&&g!==null&&(g.$$typeof===h||g.$$typeof===p||g.$$typeof===i||g.$$typeof===c||g.$$typeof===d||g.$$typeof===y||g.$$typeof===v||g.$$typeof===w||g.$$typeof===m)},re.typeOf=E,re}var yc;function iE(){return yc||(yc=1,Zs.exports=oE()),Zs.exports}var Qs,Sc;function aE(){if(Sc)return Qs;Sc=1;var e=iE(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=s;function i(h){return e.isMemo(h)?s:o[h.$$typeof]||t}var c=Object.defineProperty,a=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,f=Object.prototype;function p(h,m,y){if(typeof m!="string"){if(f){var v=l(m);v&&v!==f&&p(h,v,y)}var w=a(m);u&&(w=w.concat(u(m)));for(var E=i(h),T=i(m),g=0;g<w.length;++g){var S=w[g];if(!n[S]&&!(y&&y[S])&&!(T&&T[S])&&!(E&&E[S])){var x=d(m,S);try{c(h,S,x)}catch{}}}}return h}return Qs=p,Qs}var ld=aE();const dd=jd(ld),cE=Bd({__proto__:null,default:dd},[ld]),uE=dd||cE,lE=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,dE="unknown",eo={componentStack:null,error:null,eventId:null};class fE extends De.Component{constructor(t){super(t),this.state=eo,this._openFallbackReportDialog=!0;const n=Y();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&Ba({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:s,onError:o,showDialog:i,dialogOptions:c}=this.props;In(a=>{s&&s(a,t,r);const u=this.props.handled!=null?this.props.handled:!!this.props.fallback,d=sE(t,n,{mechanism:{handled:u}});o&&o(t,r,d),i&&(this._lastEventId=d,this._openFallbackReportDialog&&Ba({...c,eventId:d})),this.setState({error:t,componentStack:r,eventId:d})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===eo?s(null,null,null):s(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(eo)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof t=="function"?De.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return De.isValidElement(s)?s:(t&&lE&&I.warn("fallback did not produce a valid ReactElement"),null)}}function pE(e,t){const n=e.displayName||e.name||dE,r=De.memo(s=>De.createElement(fE,{...t},De.createElement(e,{...s})));return r.displayName=`errorBoundary(${n})`,uE(r,e),r}const hE=()=>{tE({dsn:"https://6c0941cad5e70e813b4913cebac4c8fc@o4509810371788800.ingest.us.sentry.io/4509820215230464",environment:"production",tracePropagationTargets:["localhost",/^https:\/\/choji\.store\/api/],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[Kv(),Nv({})],tracesSampleRate:.1,beforeSend(e){{const t=e.exception?.values?.[0];if(t?.type==="ChunkLoadError"||t?.type==="ResizeObserver loop limit exceeded")return null}return e},debug:!0}),console.log("Sentry DSN:",void 0),console.log("Sentry client initialized?",!!Y())};/*!
* CookieConsent 3.1.0
* https://github.com/orestbida/cookieconsent
* Author Orest Bida
* Released under the MIT License
*/const fd="opt-in",Dn="opt-out",pd="show--consent",hd="show--preferences",bc="disable--interaction",is="data-category",ee="div",Je="button",Ze="aria-hidden",Un="btn-group",Ie="click",fn="data-role",Ri="consentModal",Ni="preferencesModal";let mE=class{constructor(){this.t={mode:fd,revision:0,autoShow:!0,lazyHtmlGeneration:!0,autoClearCookies:!0,manageScriptTags:!0,hideFromBots:!0,cookie:{name:"cc_cookie",expiresAfterDays:182,domain:"",path:"/",secure:!0,sameSite:"Lax"}},this.o={i:{},l:"",_:{},u:{},p:{},m:[],v:!1,h:null,C:null,S:null,M:"",D:!0,T:!1,k:!1,A:!1,N:!1,H:[],V:!1,I:!0,L:[],j:!1,F:"",P:!1,O:[],R:[],B:[],$:[],G:!1,J:!1,U:!1,q:[],K:[],W:[],X:{},Y:{},Z:{},ee:{},te:{},oe:[]},this.ne={ae:{},se:{}},this.ce={},this.re={ie:"cc:onFirstConsent",le:"cc:onConsent",de:"cc:onChange",fe:"cc:onModalShow",_e:"cc:onModalHide",ue:"cc:onModalReady"}}};const b=new mE,md=(e,t)=>e.indexOf(t),ie=(e,t)=>md(e,t)!==-1,Ts=e=>Array.isArray(e),Mn=e=>typeof e=="string",$o=e=>!!e&&typeof e=="object"&&!Ts(e),rt=e=>typeof e=="function",qt=e=>Object.keys(e),gd=e=>Array.from(new Set(e)),as=()=>document.activeElement,ln=e=>e.preventDefault(),Mi=(e,t)=>e.querySelectorAll(t),R=e=>{const t=document.createElement(e);return e===Je&&(t.type=e),t},H=(e,t,n)=>e.setAttribute(t,n),to=(e,t,n)=>{e.removeAttribute(n?"data-"+t:t)},$r=(e,t,n)=>e.getAttribute(n?"data-"+t:t),C=(e,t)=>e.appendChild(t),ce=(e,t)=>e.classList.add(t),Ce=(e,t)=>ce(e,"cm__"+t),Z=(e,t)=>ce(e,"pm__"+t),xt=(e,t)=>e.classList.remove(t),Tt=e=>{if(typeof e!="object")return e;if(e instanceof Date)return new Date(e.getTime());let t=Array.isArray(e)?[]:{};for(let n in e){let r=e[n];t[n]=Tt(r)}return t},vc=(e,t)=>dispatchEvent(new CustomEvent(e,{detail:t})),fe=(e,t,n,r)=>{e.addEventListener(t,n),r&&b.o.m.push({pe:e,ge:t,me:n})},gE=()=>{const e=b.t.cookie.expiresAfterDays;return rt(e)?e(b.o.F):e},no=(e,t)=>{const n=e||[],r=t||[];return n.filter((s=>!ie(r,s))).concat(r.filter((s=>!ie(n,s))))},_d=e=>{b.o.R=gd(e),b.o.F=(()=>{let t="custom";const{R:n,O:r,B:s}=b.o,o=n.length;return o===r.length?t="all":o===s.length&&(t="necessary"),t})()},yd=(e,t,n,r)=>{const s="accept-",{show:o,showPreferences:i,hide:c,hidePreferences:a,acceptCategory:u}=t,d=e||document,l=E=>Mi(d,`[data-cc="${E}"]`),f=(E,T)=>{ln(E),u(T),a(),c()},p=l("show-preferencesModal"),h=l("show-consentModal"),m=l(s+"all"),y=l(s+"necessary"),v=l(s+"custom"),w=b.t.lazyHtmlGeneration;for(const E of p)H(E,"aria-haspopup","dialog"),fe(E,Ie,(T=>{ln(T),i()})),w&&(fe(E,"mouseenter",(T=>{ln(T),b.o.N||n(t,r)}),!0),fe(E,"focus",(()=>{b.o.N||n(t,r)})));for(let E of h)H(E,"aria-haspopup","dialog"),fe(E,Ie,(T=>{ln(T),o(!0)}),!0);for(let E of m)fe(E,Ie,(T=>{f(T,"all")}),!0);for(let E of v)fe(E,Ie,(T=>{f(T)}),!0);for(let E of y)fe(E,Ie,(T=>{f(T,[])}),!0)},ot=(e,t)=>{e&&(t&&(e.tabIndex=-1),e.focus(),t&&e.removeAttribute("tabindex"))},Sd=(e,t)=>{const n=r=>{r.target.removeEventListener("transitionend",n),r.propertyName==="opacity"&&getComputedStyle(e).opacity==="1"&&ot((s=>s===1?b.ne.be:b.ne.ve)(t))};fe(e,"transitionend",n)};let Ec;const bd=e=>{clearTimeout(Ec),e?ce(b.ne.ye,bc):Ec=setTimeout((()=>{xt(b.ne.ye,bc)}),500)},_E=["M 19.5 4.5 L 4.5 19.5 M 4.5 4.501 L 19.5 19.5","M 3.572 13.406 L 8.281 18.115 L 20.428 5.885","M 21.999 6.94 L 11.639 17.18 L 2.001 6.82 "],Qn=(e=0,t=1.5)=>`<svg viewBox="0 0 24 24" stroke-width="${t}"><path d="${_E[e]}"/></svg>`,vd=e=>{const t=b.ne,n=b.o;(r=>{const s=r===t.he,o=n.i.disablePageInteraction?t.ye:s?t.Ce:t.ye;fe(o,"keydown",(i=>{if(i.key!=="Tab"||!(s?n.k&&!n.A:n.A))return;const c=as(),a=s?n.q:n.K;a.length!==0&&(i.shiftKey?c!==a[0]&&r.contains(c)||(ln(i),ot(a[1])):c!==a[1]&&r.contains(c)||(ln(i),ot(a[0])))}),!0)})(e)},yE=["[href]",Je,"input","details","[tabindex]"].map((e=>e+':not([tabindex="-1"])')).join(","),Ed=e=>{const{o:t,ne:n}=b,r=(s,o)=>{const i=Mi(s,yE);o[0]=i[0],o[1]=i[i.length-1]};e===1&&t.T&&r(n.he,t.q),e===2&&t.N&&r(n.we,t.K)},it=(e,t,n)=>{const{de:r,le:s,ie:o,_e:i,ue:c,fe:a}=b.ce,u=b.re;if(t){const l={modalName:t};return e===u.fe?rt(a)&&a(l):e===u._e?rt(i)&&i(l):(l.modal=n,rt(c)&&c(l)),vc(e,l)}const d={cookie:b.o.p};e===u.ie?rt(o)&&o(Tt(d)):e===u.le?rt(s)&&s(Tt(d)):(d.changedCategories=b.o.L,d.changedServices=b.o.ee,rt(r)&&r(Tt(d))),vc(e,Tt(d))},cs=(e,t)=>{try{return e()}catch(n){return!t&&console.warn("CookieConsent:",n),!1}},jo=e=>{const{Y:t,ee:n,O:r,X:s,oe:o,p:i,L:c}=b.o;for(const l of r){const f=n[l]||t[l]||[];for(const p of f){const h=s[l][p];if(!h)continue;const{onAccept:m,onReject:y}=h;!h.Se&&ie(t[l],p)?(h.Se=!0,rt(m)&&m()):h.Se&&!ie(t[l],p)&&(h.Se=!1,rt(y)&&y())}}if(!b.t.manageScriptTags)return;const a=o,u=e||i.categories||[],d=(l,f)=>{if(f>=l.length)return;const p=o[f];if(p.xe)return d(l,f+1);const h=p.Me,m=p.De,y=p.Te,v=ie(u,m),w=!!y&&ie(t[m],y);if(!y&&!p.ke&&v||!y&&p.ke&&!v&&ie(c,m)||y&&!p.ke&&w||y&&p.ke&&!w&&ie(n[m]||[],y)){p.xe=!0;const E=$r(h,"type",!0);to(h,"type",!!E),to(h,is);let T=$r(h,"src",!0);T&&to(h,"src",!0);const g=R("script");g.textContent=h.innerHTML;for(const{nodeName:x}of h.attributes)H(g,x,h[x]||$r(h,x));E&&(g.type=E),T?g.src=T:T=h.src;const S=!!T&&(!E||["text/javascript","module"].includes(E));if(S&&(g.onload=g.onerror=()=>{d(l,++f)}),h.replaceWith(g),S)return}d(l,++f)};d(a,0)},jr="bottom",Bo="left",wd="center",Ai="right",ro="inline",Td="wide",Id="pm--",so=["middle","top",jr],wc=[Bo,wd,Ai],SE={box:{Ee:[Td,ro],Ae:so,Ne:wc,He:jr,Ve:Ai},cloud:{Ee:[ro],Ae:so,Ne:wc,He:jr,Ve:wd},bar:{Ee:[ro],Ae:so.slice(1),Ne:[],He:jr,Ve:""}},bE={box:{Ee:[],Ae:[],Ne:[],He:"",Ve:""},bar:{Ee:[Td],Ae:[],Ne:[Bo,Ai],He:"",Ve:Bo}},xd=e=>{const t=b.o.i.guiOptions,n=t&&t.consentModal,r=t&&t.preferencesModal;e===0&&Tc(b.ne.he,SE,n,"cm--","box","cm"),e===1&&Tc(b.ne.we,bE,r,Id,"box","pm")},Tc=(e,t,n,r,s,o)=>{e.className=o;const i=n&&n.layout,c=n&&n.position,a=n&&n.flipButtons,u=!n||n.equalWeightButtons!==!1,d=i&&i.split(" ")||[],l=d[0],f=d[1],p=l in t?l:s,h=t[p],m=ie(h.Ee,f)&&f,y=c&&c.split(" ")||[],v=y[0],w=r===Id?y[0]:y[1],E=ie(h.Ae,v)?v:h.He,T=ie(h.Ne,w)?w:h.Ve,g=x=>{x&&ce(e,r+x)};g(p),g(m),g(E),g(T),a&&g("flip");const S=o+"__btn--secondary";if(o==="cm"){const{Ie:x,Le:M}=b.ne;x&&(u?xt(x,S):ce(x,S)),M&&(u?xt(M,S):ce(M,S))}else{const{je:x}=b.ne;x&&(u?xt(x,S):ce(x,S))}},er=(e,t)=>{const n=b.o,r=b.ne,{hide:s,hidePreferences:o,acceptCategory:i}=e,c=T=>{i(T),o(),s()},a=n.u&&n.u.preferencesModal;if(!a)return;const u=a.title,d=a.closeIconLabel,l=a.acceptAllBtn,f=a.acceptNecessaryBtn,p=a.savePreferencesBtn,h=a.sections||[],m=l||f||p;if(r.Fe)r.Pe=R(ee),Z(r.Pe,"body");else{r.Fe=R(ee),ce(r.Fe,"pm-wrapper");const T=R("div");ce(T,"pm-overlay"),C(r.Fe,T),fe(T,Ie,o),r.we=R(ee),ce(r.we,"pm"),H(r.we,"role","dialog"),H(r.we,Ze,!0),H(r.we,"aria-modal",!0),H(r.we,"aria-labelledby","pm__title"),fe(r.ye,"keydown",(g=>{g.keyCode===27&&o()}),!0),r.Oe=R(ee),Z(r.Oe,"header"),r.Re=R("h2"),Z(r.Re,"title"),r.Re.id="pm__title",r.Be=R(Je),Z(r.Be,"close-btn"),H(r.Be,"aria-label",a.closeIconLabel||""),fe(r.Be,Ie,o),r.$e=R("span"),r.$e.innerHTML=Qn(),C(r.Be,r.$e),r.Ge=R(ee),Z(r.Ge,"body"),r.Je=R(ee),Z(r.Je,"footer");var y=R(ee);ce(y,"btns");var v=R(ee),w=R(ee);Z(v,Un),Z(w,Un),C(r.Je,v),C(r.Je,w),C(r.Oe,r.Re),C(r.Oe,r.Be),r.ve=R(ee),H(r.ve,"tabIndex",-1),C(r.we,r.ve),C(r.we,r.Oe),C(r.we,r.Ge),m&&C(r.we,r.Je),C(r.Fe,r.we)}let E;u&&(r.Re.innerHTML=u,d&&H(r.Be,"aria-label",d)),h.forEach(((T,g)=>{const S=T.title,x=T.description,M=T.linkedCategory,k=M&&n.P[M],A=T.cookieTable,$=A&&A.body,F=A&&A.caption,q=$&&$.length>0,W=!!k,D=W&&n.X[M],N=$o(D)&&qt(D)||[],O=W&&(!!x||!!q||qt(D).length>0);var P=R(ee);if(Z(P,"section"),O||x){var G=R(ee);Z(G,"section-desc-wrapper")}let ae=N.length;if(O&&ae>0){const _e=R(ee);Z(_e,"section-services");for(const ve of N){const de=D[ve],Ee=de&&de.label||ve,We=R(ee),tt=R(ee),Ft=R(ee),bt=R(ee);Z(We,"service"),Z(bt,"service-title"),Z(tt,"service-header"),Z(Ft,"service-icon");const we=Ic(Ee,ve,k,!0,M);bt.innerHTML=Ee,C(tt,Ft),C(tt,bt),C(We,tt),C(We,we),C(_e,We)}C(G,_e)}if(S){var ge=R(ee),me=R(W?Je:ee);if(Z(ge,"section-title-wrapper"),Z(me,"section-title"),me.innerHTML=S,C(ge,me),W){const _e=R("span");_e.innerHTML=Qn(2,3.5),Z(_e,"section-arrow"),C(ge,_e),P.className+="--toggle";const ve=Ic(S,M,k);let de=a.serviceCounterLabel;if(ae>0&&Mn(de)){let Ee=R("span");Z(Ee,"badge"),Z(Ee,"service-counter"),H(Ee,Ze,!0),H(Ee,"data-servicecounter",ae),de&&(de=de.split("|"),de=de.length>1&&ae>1?de[1]:de[0],H(Ee,"data-counterlabel",de)),Ee.innerHTML=ae+(de?" "+de:""),C(me,Ee)}if(O){Z(P,"section--expandable");var $e=M+"-desc";H(me,"aria-expanded",!1),H(me,"aria-controls",$e)}C(ge,ve)}else H(me,"role","heading"),H(me,"aria-level","3");C(P,ge)}if(x){var Ue=R("p");Z(Ue,"section-desc"),Ue.innerHTML=x,C(G,Ue)}if(O&&(H(G,Ze,"true"),G.id=$e,((_e,ve,de)=>{fe(me,Ie,(()=>{ve.classList.contains("is-expanded")?(xt(ve,"is-expanded"),H(de,"aria-expanded","false"),H(_e,Ze,"true")):(ce(ve,"is-expanded"),H(de,"aria-expanded","true"),H(_e,Ze,"false"))}))})(G,P,me),q)){const _e=R("table"),ve=R("thead"),de=R("tbody");if(F){const we=R("caption");Z(we,"table-caption"),we.innerHTML=F,_e.appendChild(we)}Z(_e,"section-table"),Z(ve,"table-head"),Z(de,"table-body");const Ee=A.headers,We=qt(Ee),tt=r.Ue.createDocumentFragment(),Ft=R("tr");for(const we of We){const Ae=Ee[we],ze=R("th");ze.id="cc__row-"+Ae+g,H(ze,"scope","col"),Z(ze,"table-th"),ze.innerHTML=Ae,C(tt,ze)}C(Ft,tt),C(ve,Ft);const bt=r.Ue.createDocumentFragment();for(const we of $){const Ae=R("tr");Z(Ae,"table-tr");for(const ze of We){const en=Ee[ze],tn=we[ze],lt=R("td"),K=R(ee);Z(lt,"table-td"),H(lt,"data-column",en),H(lt,"headers","cc__row-"+en+g),K.insertAdjacentHTML("beforeend",tn),C(lt,K),C(Ae,lt)}C(bt,Ae)}C(de,bt),C(_e,ve),C(_e,de),C(G,_e)}(O||x)&&C(P,G);const Pt=r.Pe||r.Ge;W?(E||(E=R(ee),Z(E,"section-toggles")),E.appendChild(P)):E=null,C(Pt,E||P)})),l&&(r.ze||(r.ze=R(Je),Z(r.ze,"btn"),H(r.ze,fn,"all"),C(v,r.ze),fe(r.ze,Ie,(()=>c("all")))),r.ze.innerHTML=l),f&&(r.je||(r.je=R(Je),Z(r.je,"btn"),H(r.je,fn,"necessary"),C(v,r.je),fe(r.je,Ie,(()=>c([])))),r.je.innerHTML=f),p&&(r.qe||(r.qe=R(Je),Z(r.qe,"btn"),Z(r.qe,"btn--secondary"),H(r.qe,fn,"save"),C(w,r.qe),fe(r.qe,Ie,(()=>c()))),r.qe.innerHTML=p),r.Pe&&(r.we.replaceChild(r.Pe,r.Ge),r.Ge=r.Pe),xd(1),n.N||(n.N=!0,it(b.re.ue,Ni,r.we),t(e),C(r.Ce,r.Fe),vd(r.we),setTimeout((()=>ce(r.Fe,"cc--anim")),100)),Ed(2)};function Ic(e,t,n,r,s){const o=b.o,i=b.ne,c=R("label"),a=R("input"),u=R("span"),d=R("span"),l=R("span"),f=R("span"),p=R("span");if(f.innerHTML=Qn(1,3),p.innerHTML=Qn(0,3),a.type="checkbox",ce(c,"section__toggle-wrapper"),ce(a,"section__toggle"),ce(f,"toggle__icon-on"),ce(p,"toggle__icon-off"),ce(u,"toggle__icon"),ce(d,"toggle__icon-circle"),ce(l,"toggle__label"),H(u,Ze,"true"),r?(ce(c,"toggle-service"),H(a,is,s),i.se[s][t]=a):i.ae[t]=a,r?(h=>{fe(a,"change",(()=>{const m=i.se[h],y=i.ae[h];o.Z[h]=[];for(let v in m){const w=m[v];w.checked&&o.Z[h].push(w.value)}y.checked=o.Z[h].length>0}))})(s):(h=>{fe(a,Ie,(()=>{const m=i.se[h],y=a.checked;o.Z[h]=[];for(let v in m)m[v].checked=y,y&&o.Z[h].push(v)}))})(t),a.value=t,l.textContent=e.replace(/<.*>.*<\/.*>/gm,""),C(d,p),C(d,f),C(u,d),o.D)(n.readOnly||n.enabled)&&(a.checked=!0);else if(r){const h=o.Y[s];a.checked=n.readOnly||ie(h,t)}else ie(o.R,t)&&(a.checked=!0);return n.readOnly&&(a.disabled=!0),C(c,a),C(c,u),C(c,l),c}const oo=()=>{const e=R("span");return b.ne.Ke||(b.ne.Ke=e),e},kd=(e,t)=>{const n=b.o,r=b.ne,{hide:s,showPreferences:o,acceptCategory:i}=e,c=n.u&&n.u.consentModal;if(!c)return;const a=c.acceptAllBtn,u=c.acceptNecessaryBtn,d=c.showPreferencesBtn,l=c.closeIconLabel,f=c.footer,p=c.label,h=c.title,m=v=>{s(),i(v)};if(!r.Qe){r.Qe=R(ee),r.he=R(ee),r.We=R(ee),r.Xe=R(ee),r.Ye=R(ee),ce(r.Qe,"cm-wrapper"),ce(r.he,"cm"),Ce(r.We,"body"),Ce(r.Xe,"texts"),Ce(r.Ye,"btns"),H(r.he,"role","dialog"),H(r.he,"aria-modal","true"),H(r.he,Ze,"false"),H(r.he,"aria-describedby","cm__desc"),p?H(r.he,"aria-label",p):h&&H(r.he,"aria-labelledby","cm__title");const v="box",w=n.i.guiOptions,E=w&&w.consentModal,T=(E&&E.layout||v).split(" ")[0]===v;h&&l&&T&&(r.Le||(r.Le=R(Je),r.Le.innerHTML=Qn(),Ce(r.Le,"btn"),Ce(r.Le,"btn--close"),fe(r.Le,Ie,(()=>{m([])})),C(r.We,r.Le)),H(r.Le,"aria-label",l)),C(r.We,r.Xe),(a||u||d)&&C(r.We,r.Ye),r.be=R(ee),H(r.be,"tabIndex",-1),C(r.he,r.be),C(r.he,r.We),C(r.Qe,r.he)}h&&(r.Ze||(r.Ze=R("h2"),r.Ze.className=r.Ze.id="cm__title",C(r.Xe,r.Ze)),r.Ze.innerHTML=h);let y=c.description;if(y&&(n.V&&(y=y.replace("{{revisionMessage}}",n.I?"":c.revisionMessage||"")),r.et||(r.et=R("p"),r.et.className=r.et.id="cm__desc",C(r.Xe,r.et)),r.et.innerHTML=y),a&&(r.tt||(r.tt=R(Je),C(r.tt,oo()),Ce(r.tt,"btn"),H(r.tt,fn,"all"),fe(r.tt,Ie,(()=>{m("all")}))),r.tt.firstElementChild.innerHTML=a),u&&(r.Ie||(r.Ie=R(Je),C(r.Ie,oo()),Ce(r.Ie,"btn"),H(r.Ie,fn,"necessary"),fe(r.Ie,Ie,(()=>{m([])}))),r.Ie.firstElementChild.innerHTML=u),d&&(r.ot||(r.ot=R(Je),C(r.ot,oo()),Ce(r.ot,"btn"),Ce(r.ot,"btn--secondary"),H(r.ot,fn,"show"),fe(r.ot,"mouseenter",(()=>{n.N||er(e,t)})),fe(r.ot,Ie,o)),r.ot.firstElementChild.innerHTML=d),r.nt||(r.nt=R(ee),Ce(r.nt,Un),a&&C(r.nt,r.tt),u&&C(r.nt,r.Ie),(a||u)&&C(r.We,r.nt),C(r.Ye,r.nt)),r.ot&&!r.st&&(r.st=R(ee),r.Ie&&r.tt?(Ce(r.st,Un),C(r.st,r.ot),C(r.Ye,r.st)):(C(r.nt,r.ot),Ce(r.nt,Un+"--uneven"))),f){if(!r.ct){let v=R(ee),w=R(ee);r.ct=R(ee),Ce(v,"footer"),Ce(w,"links"),Ce(r.ct,"link-group"),C(w,r.ct),C(v,w),C(r.he,v)}r.ct.innerHTML=f}xd(0),n.T||(n.T=!0,it(b.re.ue,Ri,r.he),t(e),C(r.Ce,r.Qe),vd(r.he),setTimeout((()=>ce(r.Qe,"cc--anim")),100)),Ed(1),yd(r.We,e,er,t)},Cd=e=>{if(!Mn(e))return null;if(e in b.o._)return e;let t=e.slice(0,2);return t in b.o._?t:null},Rd=()=>b.o.l||b.o.i.language.default,Nd=e=>{e&&(b.o.l=e)},vE=async e=>{const t=b.o;let n=Cd(e)?e:Rd(),r=t._[n];if(Mn(r)?r=await(async s=>{try{return await(await fetch(s)).json()}catch(o){return console.error(o),!1}})(r):rt(r)&&(r=await r()),!r)throw`Could not load translation for the '${n}' language`;return t.u=r,Nd(n),!0},EE=()=>{let e=b.o.i.language.rtl,t=b.ne.Ce;e&&t&&(Ts(e)||(e=[e]),ie(e,b.o.l)?ce(t,"cc--rtl"):xt(t,"cc--rtl"))},Wn=()=>{const e=b.ne;if(e.Ce)return;e.Ce=R(ee),e.Ce.id="cc-main",e.Ce.setAttribute("data-nosnippet",""),EE();let t=b.o.i.root;t&&Mn(t)&&(t=document.querySelector(t)),(t||e.Ue.body).appendChild(e.Ce)},wE=e=>cs((()=>localStorage.removeItem(e))),xc=(e,t)=>{if(t instanceof RegExp)return e.filter((n=>t.test(n)));{const n=md(e,t);return n>-1?[e[n]]:[]}},TE=e=>{const{hostname:t,protocol:n}=location,{name:r,path:s,domain:o,sameSite:i,useLocalStorage:c,secure:a}=b.t.cookie,u=864e5*gE(),d=new Date;d.setTime(d.getTime()+u),b.o.p.expirationTime=d.getTime();const l=JSON.stringify(b.o.p);let f=r+"="+encodeURIComponent(l)+(u!==0?"; expires="+d.toUTCString():"")+"; Path="+s+"; SameSite="+i;ie(t,".")&&(f+="; Domain="+o),a&&n==="https:"&&(f+="; Secure"),c?((p,h)=>{cs((()=>localStorage.setItem(p,h)))})(r,l):document.cookie=f,b.o.p},kc=(e,t,n)=>{if(e.length===0)return;const r=n||b.t.cookie.domain,s=t||b.t.cookie.path,o=r.slice(0,4)==="www.",i=o&&r.substring(4),c=(a,u)=>{u&&u.slice(0,1)!=="."&&(u="."+u),document.cookie=a+"=; path="+s+(u?"; domain="+u:"")+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"};for(const a of e)c(a,n),n||c(a,r),o&&c(a,i)},IE=e=>{const t=b.t.cookie.name,n=b.t.cookie.useLocalStorage;return((s,o)=>{let i;return i=cs((()=>JSON.parse(o?s:decodeURIComponent(s))),!0)||{},i})(n?(r=t,cs((()=>localStorage.getItem(r)))||""):xE(t),n);var r},xE=(e,t)=>{const n=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return n?n.pop():""},kE=e=>{const t=document.cookie.split(/;\s*/),n=[];for(const r of t){let s=r.split("=")[0];n.push(s)}return n},CE=(e,t=[])=>{((n,r)=>{const{O:s,R:o,B:i,N:c,Z:a,$:u,X:d}=b.o;let l=[];if(n){Ts(n)?l.push(...n):Mn(n)&&(l=n==="all"?s:[n]);for(const f of s)a[f]=ie(l,f)?qt(d[f]):[]}else l=[...o,...u],c&&(l=(()=>{const f=b.ne.ae;if(!f)return[];let p=[];for(let h in f)f[h].checked&&p.push(h);return p})());l=l.filter((f=>!ie(s,f)||!ie(r,f))),l.push(...i),_d(l)})(e,t),(()=>{const n=b.o,{Z:r,B:s,Y:o,X:i,O:c}=n,a=c;n.te=Tt(o);for(const u of a){const d=i[u],l=qt(d),f=r[u]&&r[u].length>0,p=ie(s,u);if(l.length!==0){if(o[u]=[],p)o[u].push(...l);else if(f){const h=r[u];o[u].push(...h)}else o[u]=n.Z[u];o[u]=gd(o[u])}}})(),(()=>{const n=b.o;n.L=b.t.mode===Dn&&n.D?no(n.$,n.R):no(n.R,n.p.categories);let r=n.L.length>0,s=!1;for(const a of n.O)n.ee[a]=no(n.Y[a],n.te[a]),n.ee[a].length>0&&(s=!0);const o=b.ne.ae;for(const a in o)o[a].checked=ie(n.R,a);for(const a of n.O){const u=b.ne.se[a],d=n.Y[a];for(const l in u)u[l].checked=ie(d,l)}n.C||(n.C=new Date),n.M||(n.M=("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,(a=>(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)))),n.p={categories:Tt(n.R),revision:b.t.revision,data:n.h,consentTimestamp:n.C.toISOString(),consentId:n.M,services:Tt(n.Y),languageCode:b.o.l},n.S&&(n.p.lastConsentTimestamp=n.S.toISOString());let i=!1;const c=r||s;(n.D||c)&&(n.D&&(n.D=!1,i=!0),n.S=n.S?new Date:n.C,n.p.lastConsentTimestamp=n.S.toISOString(),TE(),b.t.autoClearCookies&&(i||c)&&(a=>{const u=b.o,d=kE(),l=(f=>{const p=b.o;return(f?p.O:p.L).filter((h=>{const m=p.P[h];return!!m&&!m.readOnly&&!!m.autoClear}))})(a);for(const f in u.ee)for(const p of u.ee[f]){const h=u.X[f][p].cookies;if(!ie(u.Y[f],p)&&h)for(const m of h){const y=xc(d,m.name);kc(y,m.path,m.domain)}}for(const f of l){const p=u.P[f].autoClear,h=p&&p.cookies||[],m=ie(u.L,f),y=!ie(u.R,f),v=m&&y;if(a?y:v){p.reloadPage&&v&&(u.j=!0);for(const w of h){const E=xc(d,w.name);kc(E,w.path,w.domain)}}}})(i),jo()),i&&(it(b.re.ie),it(b.re.le),b.t.mode===fd)||(c&&it(b.re.de),n.j&&(n.j=!1,location.reload()))})()},RE=e=>{const t=b.o.D?[]:b.o.R;return ie(t,e)},NE=(e,t)=>{const n=b.o.D?[]:b.o.Y[t]||[];return ie(n,e)},Md=e=>{const{ne:t,o:n}=b;if(!n.k){if(!n.T){if(!e)return;kd(Oi,Wn)}n.k=!0,n.J=as(),n.v&&bd(!0),Sd(t.he,1),ce(t.ye,pd),H(t.he,Ze,"false"),setTimeout((()=>{ot(b.ne.be)}),100),it(b.re.fe,Ri)}},ME=()=>{const{ne:e,o:t,re:n}=b;t.k&&(t.k=!1,t.v&&bd(),ot(e.Ke,!0),xt(e.ye,pd),H(e.he,Ze,"true"),ot(t.J),t.J=null,it(n._e,Ri))},AE=()=>{const e=b.o;e.A||(e.N||er(Oi,Wn),e.A=!0,e.k?e.U=as():e.J=as(),Sd(b.ne.we,2),ce(b.ne.ye,hd),H(b.ne.we,Ze,"false"),setTimeout((()=>{ot(b.ne.ve)}),100),it(b.re.fe,Ni))},OE=()=>{const e=b.o;e.A&&(e.A=!1,(()=>{const t=Ad(),n=b.o.P,r=b.ne.ae,s=b.ne.se,o=i=>ie(b.o.$,i);for(const i in r){const c=!!n[i].readOnly;r[i].checked=c||(t?RE(i):o(i));for(const a in s[i])s[i][a].checked=c||(t?NE(a,i):o(i))}})(),ot(b.ne.$e,!0),xt(b.ne.ye,hd),H(b.ne.we,Ze,"true"),e.k?(ot(e.U),e.U=null):(ot(e.J),e.J=null),it(b.re._e,Ni))};var Oi={show:Md,hide:ME,showPreferences:AE,hidePreferences:OE,acceptCategory:CE};const Ad=()=>!b.o.D,LE=async e=>{const{o:t,t:n,re:r}=b,s=window;if(!s._ccRun){if(s._ccRun=!0,(c=>{const{ne:a,t:u,o:d}=b,l=u,f=d,{cookie:p}=l,h=b.ce,m=c.cookie,y=c.categories,v=qt(y)||[],w=navigator,E=document;a.Ue=E,a.ye=E.documentElement,p.domain=location.hostname,f.i=c,f.P=y,f.O=v,f._=c.language.translations,f.v=!!c.disablePageInteraction,h.ie=c.onFirstConsent,h.le=c.onConsent,h.de=c.onChange,h._e=c.onModalHide,h.fe=c.onModalShow,h.ue=c.onModalReady;const{mode:T,autoShow:g,lazyHtmlGeneration:S,autoClearCookies:x,revision:M,manageScriptTags:k,hideFromBots:A}=c;T===Dn&&(l.mode=T),typeof x=="boolean"&&(l.autoClearCookies=x),typeof k=="boolean"&&(l.manageScriptTags=k),typeof M=="number"&&M>=0&&(l.revision=M,f.V=!0),typeof g=="boolean"&&(l.autoShow=g),typeof S=="boolean"&&(l.lazyHtmlGeneration=S),A===!1&&(l.hideFromBots=!1),l.hideFromBots===!0&&w&&(f.G=w.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(w.userAgent)||w.webdriver),$o(m)&&(l.cookie={...p,...m}),l.autoClearCookies,f.V,l.manageScriptTags,($=>{const{P:F,X:q,Y:W,Z:D,B:N}=b.o;for(let O of $){const P=F[O],G=P.services||{},ae=$o(G)&&qt(G)||[];q[O]={},W[O]=[],D[O]=[],P.readOnly&&(N.push(O),W[O]=ae),b.ne.se[O]={};for(let ge of ae){const me=G[ge];me.Se=!1,q[O][ge]=me}}})(v),(()=>{if(!b.t.manageScriptTags)return;const $=b.o,F=Mi(document,"script["+is+"]");for(const q of F){let W=$r(q,is),D=q.dataset.service||"",N=!1;if(W&&W.charAt(0)==="!"&&(W=W.slice(1),N=!0),D.charAt(0)==="!"&&(D=D.slice(1),N=!0),ie($.O,W)&&($.oe.push({Me:q,xe:!1,ke:N,De:W,Te:D}),D)){const O=$.X[W];O[D]||(O[D]={Se:!1})}}})(),Nd((()=>{const $=b.o.i.language.autoDetect;if($){const F={browser:navigator.language,document:document.documentElement.lang},q=Cd(F[$]);if(q)return q}return Rd()})())})(e),t.G)return;(()=>{const c=b.o,a=b.t,u=IE(),{categories:d,services:l,consentId:f,consentTimestamp:p,lastConsentTimestamp:h,data:m,revision:y}=u,v=Ts(d);c.p=u,c.M=f;const w=!!f&&Mn(f);c.C=p,c.C&&(c.C=new Date(p)),c.S=h,c.S&&(c.S=new Date(h)),c.h=m!==void 0?m:null,c.V&&w&&y!==a.revision&&(c.I=!1),c.D=!(w&&c.I&&c.C&&c.S&&v),a.cookie.useLocalStorage&&!c.D&&(c.D=new Date().getTime()>(u.expirationTime||0),c.D&&wE(a.cookie.name)),c.D,(()=>{const E=b.o;for(const T of E.O){const g=E.P[T];if(g.readOnly||g.enabled){E.$.push(T);const S=E.X[T]||{};for(let x in S)E.Z[T].push(x),E.i.mode===Dn&&E.Y[T].push(x)}}})(),c.D?a.mode===Dn&&(c.R=[...c.$]):(c.Y={...c.Y,...l},c.Z={...c.Y},_d([...c.B,...d]))})();const i=Ad();if(!await vE())return!1;if(yd(null,o=Oi,er,Wn),b.o.D&&kd(o,Wn),b.t.lazyHtmlGeneration||er(o,Wn),n.autoShow&&!i&&Md(!0),i)return jo(),it(r.le);n.mode===Dn&&jo(t.$)}var o},DE=()=>{LE({guiOptions:{consentModal:{layout:"box inline",position:"bottom right",equalWeightButtons:!0,flipButtons:!1},preferencesModal:{layout:"box",position:"right",equalWeightButtons:!0,flipButtons:!1}},categories:{necessary:{readOnly:!0},analytics:{},marketing:{}},language:{default:"en",autoDetect:"browser",translations:{en:{consentModal:{title:"We use cookies! 🍪",description:'We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.',acceptAllBtn:"Accept all",acceptNecessaryBtn:"Reject all",showPreferencesBtn:"Manage preferences",footer:`<a href="/privacy-policy">Privacy Policy</a>
<a href="/terms-of-service">Terms of Service</a>`},preferencesModal:{title:"Consent Preferences Center",acceptAllBtn:"Accept all",acceptNecessaryBtn:"Reject all",savePreferencesBtn:"Save preferences",closeIconLabel:"Close modal",serviceCounterLabel:"Service|Services",sections:[{title:"Cookie Usage",description:"We use cookies to ensure the basic functionalities of the website and to enhance your online experience. You can choose for each category to opt-in/out whenever you want."},{title:'Strictly Necessary Cookies <span class="pm__badge">Always Enabled</span>',description:"These cookies are essential for the proper functioning of our website. Without these cookies, the website would not work properly.",linkedCategory:"necessary"},{title:"Analytics Cookies",description:"These cookies allow us to analyze website usage and improve our services. They help us understand how visitors interact with our website.",linkedCategory:"analytics"},{title:"Marketing Cookies",description:"These cookies are used to track visitors across websites to display relevant advertisements and improve marketing effectiveness.",linkedCategory:"marketing"}]}}}},onFirstConsent:({cookie:e})=>{console.log("First consent given:",e),io(e)},onConsent:({cookie:e})=>{console.log("Consent updated:",e),io(e)},onChange:({cookie:e,changedCategories:t})=>{console.log("Consent changed:",e,t),io(e)}})},io=e=>{const t=e.categories||[];t.includes("analytics")?PE():FE(),t.includes("marketing")?$E():jE()},PE=()=>{typeof gtag<"u"&&gtag("consent","update",{analytics_storage:"granted"}),console.log("Analytics enabled")},FE=()=>{typeof gtag<"u"&&gtag("consent","update",{analytics_storage:"denied"}),console.log("Analytics disabled")},$E=()=>{typeof gtag<"u"&&gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}),console.log("Marketing enabled")},jE=()=>{typeof gtag<"u"&&gtag("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"}),console.log("Marketing disabled")};var wt,zn,Od,us,Ld=-1,An=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Ld=t.timeStamp,e(t))}),!0)},Li=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Is=function(){var e=Li();return e&&e.activationStart||0},ct=function(e,t){var n=Li(),r="navigate";return Ld>=0?r="back-forward-cache":n&&(document.prerendering||Is()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},xs=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(s){Promise.resolve().then((function(){t(s.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},ut=function(e,t,n,r){var s,o;return function(i){t.value>=0&&(i||r)&&((o=t.value-(s||0))||s===void 0)&&(s=t.value,t.delta=o,t.rating=(function(c,a){return c>a[1]?"poor":c>a[0]?"needs-improvement":"good"})(t.value,n),e(t))}},Di=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Pi=function(e){var t=function(n){n.type!=="pagehide"&&document.visibilityState!=="hidden"||e(n)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Fi=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},dn=-1,Cc=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},ls=function(e){document.visibilityState==="hidden"&&dn>-1&&(dn=e.type==="visibilitychange"?e.timeStamp:0,BE())},Rc=function(){addEventListener("visibilitychange",ls,!0),addEventListener("prerenderingchange",ls,!0)},BE=function(){removeEventListener("visibilitychange",ls,!0),removeEventListener("prerenderingchange",ls,!0)},$i=function(){return dn<0&&(dn=Cc(),Rc(),An((function(){setTimeout((function(){dn=Cc(),Rc()}),0)}))),{get firstHiddenTime(){return dn}}},ks=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Nc=[1800,3e3],Dd=function(e,t){t=t||{},ks((function(){var n,r=$i(),s=ct("FCP"),o=xs("paint",(function(i){i.forEach((function(c){c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<r.firstHiddenTime&&(s.value=Math.max(c.startTime-Is(),0),s.entries.push(c),n(!0)))}))}));o&&(n=ut(e,s,Nc,t.reportAllChanges),An((function(i){s=ct("FCP"),n=ut(e,s,Nc,t.reportAllChanges),Di((function(){s.value=performance.now()-i.timeStamp,n(!0)}))})))}))},Mc=[.1,.25],HE=function(e,t){t=t||{},Dd(Fi((function(){var n,r=ct("CLS",0),s=0,o=[],i=function(a){a.forEach((function(u){if(!u.hadRecentInput){var d=o[0],l=o[o.length-1];s&&u.startTime-l.startTime<1e3&&u.startTime-d.startTime<5e3?(s+=u.value,o.push(u)):(s=u.value,o=[u])}})),s>r.value&&(r.value=s,r.entries=o,n())},c=xs("layout-shift",i);c&&(n=ut(e,r,Mc,t.reportAllChanges),Pi((function(){i(c.takeRecords()),n(!0)})),An((function(){s=0,r=ct("CLS",0),n=ut(e,r,Mc,t.reportAllChanges),Di((function(){return n()}))})),setTimeout(n,0))})))},Pn={passive:!0,capture:!0},UE=new Date,Ac=function(e,t){wt||(wt=t,zn=e,Od=new Date,Fd(removeEventListener),Pd())},Pd=function(){if(zn>=0&&zn<Od-UE){var e={entryType:"first-input",name:wt.type,target:wt.target,cancelable:wt.cancelable,startTime:wt.timeStamp,processingStart:wt.timeStamp+zn};us.forEach((function(t){t(e)})),us=[]}},WE=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;e.type=="pointerdown"?(function(n,r){var s=function(){Ac(n,r),i()},o=function(){i()},i=function(){removeEventListener("pointerup",s,Pn),removeEventListener("pointercancel",o,Pn)};addEventListener("pointerup",s,Pn),addEventListener("pointercancel",o,Pn)})(t,e):Ac(t,e)}},Fd=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,WE,Pn)}))},Oc=[100,300],zE=function(e,t){t=t||{},ks((function(){var n,r=$i(),s=ct("FID"),o=function(a){a.startTime<r.firstHiddenTime&&(s.value=a.processingStart-a.startTime,s.entries.push(a),n(!0))},i=function(a){a.forEach(o)},c=xs("first-input",i);n=ut(e,s,Oc,t.reportAllChanges),c&&Pi(Fi((function(){i(c.takeRecords()),c.disconnect()}))),c&&An((function(){var a;s=ct("FID"),n=ut(e,s,Oc,t.reportAllChanges),us=[],zn=-1,wt=null,Fd(addEventListener),a=o,us.push(a),Pd()}))}))},Lc=[2500,4e3],ao={},qE=function(e,t){t=t||{},ks((function(){var n,r=$i(),s=ct("LCP"),o=function(a){var u=a[a.length-1];u&&u.startTime<r.firstHiddenTime&&(s.value=Math.max(u.startTime-Is(),0),s.entries=[u],n())},i=xs("largest-contentful-paint",o);if(i){n=ut(e,s,Lc,t.reportAllChanges);var c=Fi((function(){ao[s.id]||(o(i.takeRecords()),i.disconnect(),ao[s.id]=!0,n(!0))}));["keydown","click"].forEach((function(a){addEventListener(a,(function(){return setTimeout(c,0)}),!0)})),Pi(c),An((function(a){s=ct("LCP"),n=ut(e,s,Lc,t.reportAllChanges),Di((function(){s.value=performance.now()-a.timeStamp,ao[s.id]=!0,n(!0)}))}))}}))},Dc=[800,1800],GE=function e(t){document.prerendering?ks((function(){return e(t)})):document.readyState!=="complete"?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},VE=function(e,t){t=t||{};var n=ct("TTFB"),r=ut(e,n,Dc,t.reportAllChanges);GE((function(){var s=Li();if(s){var o=s.responseStart;if(o<=0||o>performance.now())return;n.value=Math.max(o-Is(),0),n.entries=[s],r(!0),An((function(){n=ct("TTFB",0),(r=ut(e,n,Dc,t.reportAllChanges))(!0)}))}}))};const YE=e=>{e&&e instanceof Function&&(HE(e),zE(e),Dd(e),qE(e),VE(e))},XE=e=>{typeof Pc<"u"&&Pc("event",e.name,{event_category:"Web Vitals",value:Math.round(e.name==="CLS"?e.value*1e3:e.value),event_label:e.id,non_interaction:!0}),typeof umami<"u"&&umami.track("web-vitals",{metric:e.name,value:Math.round(e.name==="CLS"?e.value*1e3:e.value),id:e.id})},Pc=(...e)=>{typeof window<"u"&&window.gtag&&window.gtag(...e)};hE();DE();YE(XE);const KE=({error:e,resetError:t})=>{const n=e instanceof Error?e.message:String(e);return _.jsxs("div",{style:{padding:16},children:[_.jsx("h2",{children:"Something went wrong."}),_.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:n}),_.jsx("button",{onClick:t,children:"Try again"})]})},JE=pE(Qd,{fallback:KE});zd.createRoot(document.getElementById("root")).render(_.jsx(De.StrictMode,{children:_.jsx(JE,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered:",e)}).catch(e=>{console.log("SW registration failed:",e)})});
//# sourceMappingURL=index-DIdrhT_Q.js.map
